(()=>{"use strict";var t={d:(e,s)=>{for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function s(t,e,s,i,n,r){function h(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var o,a=i.kind,c="getter"===a?"get":"setter"===a?"set":"value",l=!e&&t?i.static?t:t.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,i.name):{}),d=!1,f=s.length-1;f>=0;f--){var p={};for(var g in i)p[g]="access"===g?{}:i[g];for(var g in i.access)p.access[g]=i.access[g];p.addInitializer=function(t){if(d)throw new TypeError("Cannot add initializers after decoration has completed");r.push(h(t||null))};var v=(0,s[f])("accessor"===a?{get:u.get,set:u.set}:u[c],p);if("accessor"===a){if(void 0===v)continue;if(null===v||"object"!=typeof v)throw new TypeError("Object expected");(o=h(v.get))&&(u.get=o),(o=h(v.set))&&(u.set=o),(o=h(v.init))&&n.unshift(o)}else(o=h(v))&&("field"===a?n.unshift(o):u[c]=o)}l&&Object.defineProperty(l,i.name,u),d=!0}function i(t,e,s){for(var i=arguments.length>2,n=0;n<e.length;n++)s=i?e[n].call(t,s):e[n].call(t);return i?s:void 0}function n(t,e,s){return"symbol"==typeof e&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:s?"".concat(s," ",e):e})}t.r(e),t.d(e,{CheckRules:()=>dc,ListLine:()=>uc,Menu:()=>fc}),Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;const r={get:(t,e)=>e[Symbol.metadata]?.[t],define(t,e,...s){let i=Object.getOwnPropertyDescriptor(e,Symbol.metadata)?.value;null==i&&Object.defineProperty(e,Symbol.metadata,{value:i=Object.create(null),enumerable:!0,configurable:!0,writable:!0});const n=s.length;switch(n){case 0:throw new Error("At least one key must be provided");case 1:return void(i[s[0]]=t);case 2:return void(i[s[0]]=i[s[1]]=t);default:for(let e=0;e<n;++e)i[s[e]]=t;return}},has(t,e){const s=e[Symbol.metadata];return null!=s&&t in s},delete(t,e){const s=e[Symbol.metadata];null!=s&&Reflect.deleteProperty(s,t)}},h=Object.freeze,o=Object.assign,a=String,c=r.get,l=r.define,u=t=>t instanceof Promise,d=t=>t instanceof Array,f=t=>t instanceof Set,p=t=>t instanceof Map,g=t=>t instanceof Object;function v(t){return"object"==typeof t&&null!==t||"function"==typeof t}const m=t=>"function"==typeof t,b=t=>"string"==typeof t,y=()=>Object.create(null),w=Object.is,k=(t,...e)=>{const s=a(t).padStart(4,"0");return new Error(`AUR${s}:${e.map(a)}`)},C=(()=>{const t={};let e=!1,s=0,i=0,n=0;return r=>{switch(typeof r){case"number":return r>=0&&(0|r)===r;case"string":if(e=t[r],void 0!==e)return e;if(s=r.length,0===s)return t[r]=!1;for(i=0,n=0;n<s;++n)if(i=r.charCodeAt(n),0===n&&48===i&&s>1||i<48||i>57)return t[r]=!1;return t[r]=!0;default:return!1}}})(),T=function(){const t=o(y(),{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0}),e=e=>""===e?0:e!==e.toUpperCase()?3:e!==e.toLowerCase()?2:!0===t[e]?1:0;return(t,s)=>{const i=t.length;if(0===i)return t;let n,r=!1,h="",o="",a=0,c=t.charAt(0),l=e(c),u=0;for(;u<i;++u)n=a,o=c,a=l,c=t.charAt(u+1),l=e(c),0===a?h.length>0&&(r=!0):(!r&&h.length>0&&2===a&&(r=3===n||3===l),h+=s(o,r),r=!1);return h}}(),$=function(){const t=y(),e=(t,e)=>e?t.toUpperCase():t.toLowerCase();return s=>{let i=t[s];return void 0===i&&(i=t[s]=T(s,e)),i}}(),S=function(){const t=y();return e=>{let s=t[e];return void 0===s&&(s=$(e),s.length>0&&(s=s[0].toUpperCase()+s.slice(1)),t[e]=s),s}}(),A=function(){const t=y(),e=(t,e)=>e?`-${t.toLowerCase()}`:t.toLowerCase();return s=>{let i=t[s];return void 0===i&&(i=t[s]=T(s,e)),i}}(),x=(t,e)=>{const s=e.name;e.addInitializer(function(){Reflect.defineProperty(this,s,{value:t.bind(this),writable:!0,configurable:!0,enumerable:!1})})},R=(...t)=>{const e=[];let s=0;const i=t.length;let n,r=0,h=0;for(;h<i;++h)if(n=t[h],void 0!==n){r=n.length;let t=0;for(;t<r;++t)e[s++]=n[t]}return e},O=(...t)=>{const e=t.length;let s,i=0;for(;e>i;++i)if(s=t[i],void 0!==s)return s;throw k(20)},M=function(){const t=Function.prototype,e=Object.getPrototypeOf,s=new WeakMap;let i,n=t,r=0;return function(h){if(i=s.get(h),void 0===i)for(s.set(h,i=[n=h]),r=0;(n=e(n))!==t;)i[++r]=n;return i}}();function I(...t){return o(y(),...t)}const P=(()=>{const t=new WeakMap;let e=!1,s="",i=0;return n=>(e=t.get(n),null==e&&(i=(s=n.toString()).length,e=i>28&&s.indexOf("[native code] }")===i-15,t.set(n,e)),e)})(),E=(t,e)=>u(t)?t.then(e):e(t),L=(...t)=>{let e,s,i,n=0,r=t.length;for(;n<r;++n)e=t[n],u(e=t[n])&&(void 0===s?s=e:void 0===i?i=[s,e]:i.push(e));return void 0===i?s:Promise.all(i)},j=(t,e)=>new Ot(t,1,e),B=(t,e)=>new Ot(t,2,e),D=(t,e)=>new Ot(e,5,t),N=new WeakMap,F=t=>(e,s,i)=>{let n=N.get(e);if(void 0===n&&N.set(e,n=new WeakMap),n.has(i))return n.get(i);const r=t(e,s,i);return n.set(i,r),r},V={instance:(t,e)=>new Ot(t,0,e),singleton:j,transient:B,callback:(t,e)=>new Ot(t,3,e),cachedCallback:(t,e)=>new Ot(t,3,F(e)),aliasTo:D,defer:(t,...e)=>new It(t,e)},q=function(t){return function(e){e.register(j(this,this),D(this,t))}},_="au:annotation",U=(t,e)=>void 0===e?`${_}:${t}`:`${_}:${t}:${e}`,W=h({name:"au:annotation",appendTo:(t,e)=>{const s=c(_,t);void 0===s?l([e],t,_):s.push(e)},set(t,e,s){l(s,t,U(e))},get:(t,e)=>c(U(e),t),getKeys(t){let e=c(_,t);return void 0===e&&l(e=[],t,_),e},isKey:t=>t.startsWith(_),keyFor:U}),z="au:resource",H=(t,e,s)=>null==e?`${z}:${t}`:null==s?`${z}:${t}:${e}`:`${z}:${t}:${e}:${s}`,K={annotation:W},G=Object.prototype.hasOwnProperty;function X(t,e,s,i){let n=c(U(t),s);return void 0===n?(n=e[t],void 0===n?(n=s[t],void 0!==n&&G.call(s,t)?n:i()):n):n}function Q(t,e,s){let i=c(U(t),e);return void 0===i?(i=e[t],void 0!==i&&G.call(e,t)?i:s()):i}function J(t,e,s){const i=e[t];return void 0===i?s():i}const Y=Symbol.for("au:registrable"),Z={none(t){throw k(2,t)},singleton:t=>new Ot(t,1,t),transient:t=>new Ot(t,2,t)};class tt{constructor(t,e){this.inheritParentResources=t,this.defaultResolver=e}static from(t){return void 0===t||t===tt.DEFAULT?tt.DEFAULT:new tt(t.inheritParentResources??!1,t.defaultResolver??Z.singleton)}}tt.DEFAULT=tt.from({});const et=t=>new rt(null,tt.from(t)),st=new Set("Array ArrayBuffer Boolean DataView Date Error EvalError Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Number Object Promise RangeError ReferenceError RegExp Set SharedArrayBuffer String SyntaxError TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array URIError WeakMap WeakSet".split(" "));let it=0,nt=null;class rt{get depth(){return null===this.t?0:this.t.depth+1}get parent(){return this.t}constructor(t,e){if(this.id=++it,this.i=0,this.u=new Map,this.t=t,this.config=e,this.h=new Map,this.res={},null===t)this.root=this,this.R=new Map;else if(this.root=t.root,this.R=t.R,e.inheritParentResources)for(const e in t.res)this.registerResolver(e,t.res[e]);this.h.set(At,dt)}register(...t){if(100===++this.i)throw k(6,...t);let e,s,i,n,r,h,o=0,a=t.length;for(;o<a;++o)if(e=t[o],v(e))if(ft(e))e.register(this);else if(null!=(h=c(z,e)))h.register(this);else if(gt(e)){const t=e[Symbol.metadata]?.[Y];if(ft(t))t.register(this);else if(b(e.$au?.type)){const t=e.$au,s=(e.aliases??Pt).concat(t.aliases??Pt);let i=`${z}:${t.type}:${t.name}`;if(this.has(i,!1))continue;for(D(e,i).register(this),this.has(e,!1)||j(e,e).register(this),n=0,r=s.length;n<r;++n)i=`${z}:${t.type}:${s[n]}`,this.has(i,!1)||D(e,i).register(this)}else j(e,e).register(this)}else for(s=Object.keys(e),n=0,r=s.length;n<r;++n)i=e[s[n]],v(i)&&(ft(i)?i.register(this):this.register(i));return--this.i,this}registerResolver(t,e,s=!1){at(t);const i=this.h,n=i.get(t);if(null==n){if(i.set(t,e),vt(t)){if(void 0!==this.res[t])throw k(7,t);this.res[t]=e}}else n instanceof Ot&&4===n.$?n._state.push(e):i.set(t,new Ot(t,4,[n,e]));return s&&this.u.set(t,e),e}deregister(t){at(t);const e=this.h.get(t);null!=e&&(this.h.delete(t),vt(t)&&delete this.res[t],this.u.has(t)&&(e.dispose(),this.u.delete(t)))}registerTransformer(t,e){const s=this.getResolver(t);if(null==s)return!1;if(s.getFactory){const t=s.getFactory(this);return null!=t&&(t.registerTransformer(e),!0)}return!1}getResolver(t,e=!0){if(at(t),void 0!==t.resolve)return t;const s=nt;let i,n,r=nt=this;try{for(;null!=r;){if(i=r.h.get(t),null!=i)return i;if(null==r.t)return n=pt(t)?this:r,e?this.C(t,n):null;r=r.t}}finally{nt=s}return null}has(t,e=!1){return this.h.has(t)||vt(t)&&t in this.res||((e&&this.t?.has(t,!0))??!1)}get(t){if(at(t),t.$isResolver)return t.resolve(this,this);const e=nt;let s,i,n=nt=this;try{for(;null!=n;){if(s=n.h.get(t),null!=s)return s.resolve(n,this);if(null==n.t)return i=pt(t)?this:n,s=this.C(t,i),s.resolve(n,this);n=n.t}}finally{nt=e}throw k(8,t)}getAll(t,e=!1){at(t);const s=nt,i=nt=this;let n,r=i,h=Pt;try{if(e){for(;null!=r;)n=r.h.get(t),null!=n&&(h=h.concat(ut(n,r,i))),r=r.t;return h}for(;null!=r;){if(n=r.h.get(t),null!=n)return ut(n,r,i);if(r=r.t,null==r)return Pt}}finally{nt=s}return Pt}invoke(t,e){if(P(t))throw k(15,t);const s=nt;nt=this;try{return void 0===e?new t(...Ct(t).map(ct,this)):new t(...Ct(t).map(ct,this),...e)}finally{nt=s}}hasFactory(t){return this.R.has(t)}getFactory(t){let e=this.R.get(t);if(void 0===e){if(P(t))throw k(15,t);this.R.set(t,e=new ht(t,Ct(t)))}return e}registerFactory(t,e){this.R.set(t,e)}createChild(t){return void 0===t&&this.config.inheritParentResources?this.config===tt.DEFAULT?new rt(this,this.config):new rt(this,tt.from({...this.config,inheritParentResources:!1})):new rt(this,tt.from(t??this.config))}disposeResolvers(){const t=this.h,e=this.u;let s,i;for([i,s]of e.entries())s.dispose?.(),t.delete(i);e.clear()}useResources(t){const e=t.res;for(const t in e)this.registerResolver(t,e[t])}find(t,e){const s=b(e)?`${z}:${t}:${e}`:t;let i=this,n=i.res[s];return null==n&&(i=i.root,n=i.res[s]),null==n?null:n.getFactory?.(i)?.Type??null}dispose(){this.u.size>0&&this.disposeResolvers(),this.h.clear(),this.root===this&&(this.R.clear(),this.res={})}C(t,e){const s=ft(t);if(!m(t)&&!s)throw k(9,t);if(st.has(t.name))throw k(10,t);if(s){const s=t.register(e,t);if(!(s instanceof Object)||null==s.resolve){const s=e.h.get(t);if(null!=s)return s;throw k(11,t)}return s}if(t.$isInterface)throw k(12,t.friendlyName);const i=this.config.defaultResolver(t,e);return e.h.set(t,i),i}}class ht{constructor(t,e){this.Type=t,this.dependencies=e,this.transformers=null}construct(t,e){const s=nt;let i;nt=t;try{return i=void 0===e?new this.Type(...this.dependencies.map(ct,t)):new this.Type(...this.dependencies.map(ct,t),...e),null==this.transformers?i:this.transformers.reduce(ot,i)}finally{nt=s}}registerTransformer(t){(this.transformers??=[]).push(t)}}function ot(t,e){return e(t)}function at(t){if(null==t)throw k(14)}function ct(t){return this.get(t)}function lt(...t){if(null==nt)throw k(16,...t);return 1===t.length?nt.get(t[0]):t.map(ct,nt)}const ut=(t,e,s)=>{if(t instanceof Ot&&4===t.$){const i=t._state,n=i.length,r=Array(n);let h=0;for(;h<n;++h)r[h]=i[h].resolve(e,s);return r}return[t.resolve(e,s)]},dt={$isResolver:!0,resolve:(t,e)=>e},ft=t=>m(t?.register),pt=t=>(t=>ft(t)&&"boolean"==typeof t.registerInRequestor)(t)&&t.registerInRequestor,gt=t=>void 0!==t.prototype,vt=t=>b(t)&&t.indexOf(":")>0;class mt{constructor(t,e){this.c=t,this.k=e}instance(t){return this.O(0,t)}singleton(t){return this.O(1,t)}transient(t){return this.O(2,t)}callback(t){return this.O(3,t)}cachedCallback(t){return this.O(3,F(t))}aliasTo(t){return this.O(5,t)}O(t,e){const{c:s,k:i}=this;return this.c=this.k=void 0,s.registerResolver(i,new Ot(i,t,e))}}const bt=t=>{const e=t.slice(),s=Object.keys(t),i=s.length;let n;for(let r=0;r<i;++r)n=s[r],C(n)||(e[n]=t[n]);return e},yt=U("di:paramtypes"),wt=t=>c("design:paramtypes",t),kt=t=>t.metadata[yt]??=[],Ct=t=>{const e=U("di:dependencies");let s=c(e,t);if(void 0===s){const i=t.inject;if(void 0===i){const e=wt(t),i=(t=>c(yt,t))(t);if(void 0===e)if(void 0===i){const e=Object.getPrototypeOf(t);s=m(e)&&e!==Function.prototype?bt(Ct(e)):[]}else s=bt(i);else if(void 0===i)s=bt(e);else{s=bt(e);let t,n=i.length,r=0;for(;r<n;++r)t=i[r],void 0!==t&&(s[r]=t);const h=Object.keys(i);let o;for(r=0,n=h.length,r=0;r<n;++r)o=h[r],C(o)||(s[o]=i[o])}}else s=bt(i);l(s,t,e)}return s},Tt=(t,e)=>{const s=m(t)?t:e,i=(b(t)?t:void 0)??"(anonymous)",n={$isInterface:!0,friendlyName:i,toString:()=>`InterfaceSymbol<${i}>`,register:null!=s?(t,e)=>s(new mt(t,e??n)):void 0};return n},$t=(...t)=>(e,s)=>{switch(s.kind){case"class":{const e=kt(s);let i,n=0;for(;n<t.length;++n)i=t[n],void 0!==i&&(e[n]=i);break}case"field":{const e=kt(s),i=t[0];void 0!==i&&(e[s.name]=i);break}default:throw k(22,String(s.name),s.kind)}},St=(()=>(Symbol.metadata??=Symbol.for("Symbol.metadata"),{createContainer:et,getDesignParamtypes:wt,getDependencies:Ct,createInterface:Tt,inject:$t,transient:t=>(t.register=function(e){return B(t,t).register(e,t)},t.registerInRequestor=!1,t),singleton:(t,e=Rt)=>(t.register=function(e){return j(t,t).register(e,t)},t.registerInRequestor=e.scoped,t)}))(),At=Tt("IContainer"),xt=At;const Rt={scoped:!1};St.singleton;class Ot{get $isResolver(){return!0}constructor(t,e,s){this.j=!1,this.F=null,this.k=t,this.$=e,this._state=s}register(t,e){return t.registerResolver(e||this.k,this)}resolve(t,e){switch(this.$){case 0:return this._state;case 1:if(this.j)throw k(3,this._state.name);return this.j=!0,this._state=(this.F=t.getFactory(this._state)).construct(e),this.$=0,this.j=!1,this._state;case 2:{const s=t.getFactory(this._state);if(null===s)throw k(4,this.k);return s.construct(e)}case 3:return this._state(t,e,this);case 4:return this._state[0].resolve(t,e);case 5:return e.get(this._state);default:throw k(5,this.$)}}getFactory(t){switch(this.$){case 1:case 2:return t.getFactory(this._state);case 5:return t.getResolver(this._state)?.getFactory?.(t)??null;case 0:return this.F;default:return null}}}class Mt{get friendlyName(){return this.I}constructor(t,e=null,s=null){this.I=t,this.A=e,this.L=s}prepare(t){this.A=t}get $isResolver(){return!0}resolve(){if(null==this.A)throw k(13,this.I);return this.A}getFactory(t){return null==this.L?null:t.getFactory(this.L)}dispose(){this.A=null}}class It{constructor(t,e){this.key=t,this.params=e}register(t){t.has(this.key,!0)?t.get(this.key).register(t,...this.params):t.register(...this.params.filter(t=>"object"==typeof t))}}const Pt=h([]),Et=h({});function Lt(){}const jt=Tt("IPlatform");function Bt(t){return function(e){function s(t,e){$t(s)(t,e)}return s.$isResolver=!0,s.resolve=function(s,i){return t(e,s,i)},s}}const Dt=(t,e=!1)=>{function s(t,e){$t(s)(t,e)}return s.$isResolver=!0,s.resolve=(s,i)=>i.getAll(t,e),s},Nt=Bt((t,e,s)=>s.has(t,!0)?s.get(t):void 0),Ft=Bt((t,e,s)=>(...i)=>e.getFactory(t).construct(s,i)),Vt=Bt((t,e,s)=>s.has(t,!1)?s.get(t):s.root.get(t)),qt=Bt((t,e,s)=>s.has(t,!1)?s.get(t):s.root.has(t,!1)?s.root.get(t):void 0),_t=Bt((t,e,s)=>s===s.root?s.getAll(t,!1):s.has(t,!1)?s.getAll(t,!1).concat(s.root.getAll(t,!1)):s.root.getAll(t,!1));function Ut(t,e,s,i,n,r){function h(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var o,a=i.kind,c="getter"===a?"get":"setter"===a?"set":"value",l=!e&&t?i.static?t:t.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,i.name):{}),d=!1,f=s.length-1;f>=0;f--){var p={};for(var g in i)p[g]="access"===g?{}:i[g];for(var g in i.access)p.access[g]=i.access[g];p.addInitializer=function(t){if(d)throw new TypeError("Cannot add initializers after decoration has completed");r.push(h(t||null))};var v=(0,s[f])("accessor"===a?{get:u.get,set:u.set}:u[c],p);if("accessor"===a){if(void 0===v)continue;if(null===v||"object"!=typeof v)throw new TypeError("Object expected");(o=h(v.get))&&(u.get=o),(o=h(v.set))&&(u.set=o),(o=h(v.init))&&n.unshift(o)}else(o=h(v))&&("field"===a?n.unshift(o):u[c]=o)}l&&Object.defineProperty(l,i.name,u),d=!0}"function"==typeof SuppressedError&&SuppressedError,h({trace:0,debug:1,info:2,warn:3,error:4,fatal:5,none:6});const Wt=Tt("ILogConfig",t=>t.instance(new Jt("no-colors",3))),zt=Tt("ISink"),Ht=Tt("ILogEventFactory",t=>t.singleton(se)),Kt=Tt("ILogger",t=>t.singleton(ie)),Gt=Tt("ILogScope"),Xt=h({key:U("logger-sink-handles"),define(t,e){l(e.handles,t,this.key)},getHandles(t){return c(this.key,t.constructor)}}),Qt=I({red:t=>`[31m${t}[39m`,green:t=>`[32m${t}[39m`,yellow:t=>`[33m${t}[39m`,blue:t=>`[34m${t}[39m`,magenta:t=>`[35m${t}[39m`,cyan:t=>`[36m${t}[39m`,white:t=>`[37m${t}[39m`,grey:t=>`[90m${t}[39m`});class Jt{constructor(t,e){this.colorOptions=t,this.level=e}}const Yt=function(){const t={"no-colors":I({TRC:"TRC",DBG:"DBG",INF:"INF",WRN:"WRN",ERR:"ERR",FTL:"FTL",QQQ:"???"}),colors:I({TRC:Qt.grey("TRC"),DBG:Qt.grey("DBG"),INF:Qt.white("INF"),WRN:Qt.yellow("WRN"),ERR:Qt.red("ERR"),FTL:Qt.red("FTL"),QQQ:Qt.grey("???")})};return(e,s)=>e<=0?t[s].TRC:e<=1?t[s].DBG:e<=2?t[s].INF:e<=3?t[s].WRN:e<=4?t[s].ERR:e<=5?t[s].FTL:t[s].QQQ}(),Zt=(t,e)=>"no-colors"===e?t.join("."):t.map(Qt.cyan).join("."),te=(t,e)=>"no-colors"===e?new Date(t).toISOString():Qt.grey(new Date(t).toISOString());class ee{constructor(t,e,s,i,n,r){this.severity=t,this.message=e,this.optionalParams=s,this.scope=i,this.colorOptions=n,this.timestamp=r}toString(){const{severity:t,message:e,scope:s,colorOptions:i,timestamp:n}=this;return 0===s.length?`${te(n,i)} [${Yt(t,i)}] ${e}`:`${te(n,i)} [${Yt(t,i)} ${Zt(s,i)}] ${e}`}getFormattedLogInfo(t=!1){const{severity:e,message:s,scope:i,colorOptions:n,timestamp:r,optionalParams:h}=this;let o=null,a="";t&&s instanceof Error?o=s:a=s;const c=0===i.length?"":` ${Zt(i,n)}`;let l=`${te(r,n)} [${Yt(e,n)}${c}] ${a}`;if(void 0===h||0===h.length)return null===o?[l]:[l,o];let u=0;for(;l.includes("%s");)l=l.replace("%s",String(h[u++]));return null!==o?[l,o,...h.slice(u)]:[l,...h.slice(u)]}}class se{constructor(){this.config=lt(Wt)}createLogEvent(t,e,s,i){return new ee(e,s,i,t.scope,this.config.colorOptions,Date.now())}}let ie=(()=>{var t;let e,s,i,n,r,h,o=[];return t=class{constructor(t=lt(Wt),e=lt(Ht),s=lt(Dt(zt)),i=lt(Nt(Gt))??[],n=null){let r,h,a,c,l,u;if(this.scope=(function(t,e,s){for(var i=arguments.length>2,n=0;n<e.length;n++)s=i?e[n].call(t,s):e[n].call(t)}(this,o),i),this._=y(),this.config=t,this.f=e,this.sinks=s,null===n){this.root=this,this.parent=this,r=this.M=[],h=this.T=[],a=this.P=[],c=this.K=[],l=this.N=[],u=this.G=[];for(const t of s){const e=Xt.getHandles(t);(e?.includes(0)??1)&&r.push(t),(e?.includes(1)??1)&&h.push(t),(e?.includes(2)??1)&&a.push(t),(e?.includes(3)??1)&&c.push(t),(e?.includes(4)??1)&&l.push(t),(e?.includes(5)??1)&&u.push(t)}}else this.root=n.root,this.parent=n,r=this.M=n.M,h=this.T=n.T,a=this.P=n.P,c=this.K=n.K,l=this.N=n.N,u=this.G=n.G}trace(t,...e){this.config.level<=0&&this.W(this.M,0,t,e)}debug(t,...e){this.config.level<=1&&this.W(this.T,1,t,e)}info(t,...e){this.config.level<=2&&this.W(this.P,2,t,e)}warn(t,...e){this.config.level<=3&&this.W(this.K,3,t,e)}error(t,...e){this.config.level<=4&&this.W(this.N,4,t,e)}fatal(t,...e){this.config.level<=5&&this.W(this.G,5,t,e)}scopeTo(e){const s=this._;let i=s[e];return void 0===i&&(i=s[e]=new t(this.config,this.f,null,this.scope.concat(e),this)),i}W(t,e,s,i){const n=m(s)?s():s,r=this.f.createLogEvent(this,e,n,i);for(let e=0,s=t.length;e<s;++e)t[e].handleEvent(r)}},(()=>{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;e=[x],s=[x],i=[x],n=[x],r=[x],h=[x],Ut(t,null,e,{kind:"method",name:"trace",static:!1,private:!1,access:{has:t=>"trace"in t,get:t=>t.trace},metadata:a},null,o),Ut(t,null,s,{kind:"method",name:"debug",static:!1,private:!1,access:{has:t=>"debug"in t,get:t=>t.debug},metadata:a},null,o),Ut(t,null,i,{kind:"method",name:"info",static:!1,private:!1,access:{has:t=>"info"in t,get:t=>t.info},metadata:a},null,o),Ut(t,null,n,{kind:"method",name:"warn",static:!1,private:!1,access:{has:t=>"warn"in t,get:t=>t.warn},metadata:a},null,o),Ut(t,null,r,{kind:"method",name:"error",static:!1,private:!1,access:{has:t=>"error"in t,get:t=>t.error},metadata:a},null,o),Ut(t,null,h,{kind:"method",name:"fatal",static:!1,private:!1,access:{has:t=>"fatal"in t,get:t=>t.fatal},metadata:a},null,o),a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})})(),t})();class ne{constructor(t,e){this.type=t,this.cb=e}handle(t){t instanceof this.type&&this.cb.call(null,t)}}const re=Tt("IEventAggregator",t=>t.singleton(he));class he{constructor(){this.eventLookup={},this.messageHandlers=[]}publish(t,e){if(!t)throw k(18,t);if(b(t)){let s=this.eventLookup[t];if(void 0!==s){s=s.slice();const i=s.length;for(let n=0;n<i;n++)s[n](e,t)}}else{const e=this.messageHandlers.slice(),s=e.length;for(let i=0;i<s;i++)e[i].handle(t)}}subscribe(t,e){if(!t)throw k(19,t);let s,i;return b(t)?(void 0===this.eventLookup[t]&&(this.eventLookup[t]=[]),s=e,i=this.eventLookup[t]):(s=new ne(t,e),i=this.messageHandlers),i.push(s),{dispose(){const t=i.indexOf(s);-1!==t&&i.splice(t,1)}}}subscribeOnce(t,e){const s=this.subscribe(t,(t,i)=>{s.dispose(),e(t,i)});return s}}class oe{constructor(t=0){this.ancestor=t,this.$kind="AccessThis"}}class ae{constructor(t,e=0){this.name=t,this.ancestor=e,this.$kind="AccessScope"}}class ce{constructor(t){this.value=t,this.$kind="PrimitiveLiteral"}}ce.$undefined=new ce(void 0),ce.$null=new ce(null),ce.$true=new ce(!0),ce.$false=new ce(!1),ce.$empty=new ce("");class le{constructor(t){this.elements=t,this.$kind="ArrayLiteral"}}le.$empty=new le(Pt);class ue{constructor(t,e){this.keys=t,this.values=e,this.$kind="ObjectLiteral"}}ue.$empty=new ue(Pt,Pt);class de{constructor(t,e=Pt){this.cooked=t,this.expressions=e,this.$kind="Template"}}de.$empty=new de([""]);class fe{constructor(t,e,s){this.target=t,this.source=e,this.initializer=s,this.$kind="DestructuringAssignmentLeaf"}}const pe=String,ge=(t,...e)=>new Error(`AUR${pe(t).padStart(4,"0")}:${e.map(pe)}`),ve=St.createInterface("IExpressionParser");function me(t){switch(t){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return t}}q(ve),ce.$false,ce.$true,ce.$null,ce.$undefined,new oe(0),new oe(1),new class{constructor(){this.$kind="AccessBoundary"}};let be,ye="",we=0,ke="";const Ce=String.fromCharCode,Te=t=>ye.charCodeAt(t),$e=()=>ye.slice(0,we);function Se(){return be=Te(++we)}function Ae(){for(;Pe[Se()];);const t=Me[ke=$e()];return void 0===t?4096:t}function xe(t){let e=be;if(!1===t){do{e=Se()}while(e<=57&&e>=48);if(46!==e)return ke=parseInt($e(),10),32768;if(e=Se(),we>=0)return ke=parseInt($e().slice(0,-1),10),32768}if(e<=57&&e>=48)do{e=Se()}while(e<=57&&e>=48);else be=Te(--we);return ke=parseFloat($e()),32768}"Infinity NaN isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent Array BigInt Boolean Date Map Number Object RegExp Set String JSON Math Intl".split(" ");const Re=()=>ge(165,ye),Oe=()=>ge(166,ye),Me=Object.assign(Object.create(null),{true:8193,null:8194,false:8192,undefined:8195,new:8196,this:12294,$this:12293,$parent:12296,in:6562214,instanceof:6562215,typeof:139306,void:139307,of:4204596}),{CharScanners:Ie,IdParts:Pe}=(()=>{const t=()=>{throw ge(168,ye)};t.notMapped=!0;const e=[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],s=[48,58],i=(t,e,s,i)=>{const n=s.length;for(let e=0;e<n;e+=2){const n=s[e];let r=s[e+1];r=r>0?r:n+1,t&&t.fill(i,n,r)}},n=(t=>(i(t,0,e,1),i(t,0,s,1),t))(new Uint8Array(65535)),r=t=>()=>(Se(),t),h=new Array(65535);return h.fill(t,0,65535),i(h,0,[0,33,127,161],()=>(Se(),null)),i(h,0,e,Ae),i(h,0,s,()=>xe(!1)),h[34]=h[39]=()=>function(){const t=be;Se();let e=0;const s=new Array;let i=we;for(;be!==t;)if(92===be)s.push(ye.slice(i,we)),Se(),e=me(be),Se(),s.push(Ce(e)),i=we;else{if(we>=0)throw Re();Se()}const n=ye.slice(i,we);Se(),s.push(n);const r=s.join("");return ke=r,16384}(),h[96]=()=>function(){let t=!0,e="";for(;96!==Se();)if(36===be){if(we+1<0&&123===Te(we+1)){we++,t=!1;break}e+="$"}else if(92===be)e+=Ce(me(Se()));else{if(we>=0)throw Oe();e+=Ce(be)}return Se(),ke=e,t?2163762:2163763}(),h[33]=()=>61!==Se()?131121:61!==Se()?6553951:(Se(),6553953),h[61]=()=>62===Se()?(Se(),53):61!==be?4194352:61!==Se()?6553950:(Se(),6553952),h[38]=()=>38!==Se()?6291481:(Se(),6553885),h[124]=()=>124!==Se()?6291482:(Se(),6553820),h[63]=()=>{if(46===Se()){const t=Te(we+1);return t<=48||t>=57?(Se(),2162702):6291480}return 63!==be?6291480:(Se(),6553755)},h[46]=()=>Se()<=57&&be>=48?xe(!0):46===be?46!==Se()?12:(Se(),13):65547,h[60]=()=>61!==Se()?6554018:(Se(),6554020),h[62]=()=>61!==Se()?6554019:(Se(),6554021),h[37]=r(6554157),h[40]=r(2688009),h[41]=r(7340048),h[42]=()=>61===Se()?(Se(),4194360):42===be?(Se(),6554223):6554156,h[43]=()=>43===Se()?(Se(),2228282):61!==be?2490856:(Se(),4194358),h[44]=r(6291475),h[45]=()=>45===Se()?(Se(),2228283):61!==be?2490857:(Se(),4194359),h[47]=()=>61!==Se()?6554158:(Se(),4194361),h[58]=r(6291478),h[59]=r(6291479),h[91]=r(2688020),h[93]=r(7340053),h[123]=r(524298),h[125]=r(7340047),{CharScanners:h,IdParts:n}})(),Ee=St.createInterface,Le=Object.freeze,{aliasTo:je,singleton:Be}=V,De=Le({default:0,oneTime:1,toView:2,fromView:4,twoWay:6}),Ne=Ee("ITemplateCompiler"),Fe=Ee("IAttrMapper"),Ve=(t,...e)=>{const s=String(t).padStart(4,"0");return new Error(`AUR${s}:${e.map(String)}`)};class qe{constructor(t,e,s,i){if(this.chars=t,this.repeat=e,this.isSymbol=s,this.isInverted=i,i)switch(t.length){case 0:this.has=this.i;break;case 1:this.has=this.u;break;default:this.has=this.A}else switch(t.length){case 0:this.has=this.I;break;case 1:this.has=this.B;break;default:this.has=this.P}}equals(t){return this.chars===t.chars&&this.repeat===t.repeat&&this.isSymbol===t.isSymbol&&this.isInverted===t.isInverted}P(t){return this.chars.includes(t)}B(t){return this.chars===t}I(t){return!1}A(t){return!this.chars.includes(t)}u(t){return this.chars!==t}i(t){return!0}}class _e{constructor(){this.parts=Pt,this.C="",this.T={},this.R={}}get pattern(){const t=this.C;return""===t?null:t}set pattern(t){null==t?(this.C="",this.parts=Pt):(this.C=t,this.parts=this.R[t])}append(t,e){const s=this.T;void 0===s[t]?s[t]=e:s[t]+=e}next(t){const e=this.T;let s;void 0!==e[t]&&(s=this.R,void 0===s[t]?s[t]=[e[t]]:s[t].push(e[t]),e[t]=void 0)}}class Ue{get C(){return this._?this.L[0]:null}constructor(t,...e){this.charSpec=t,this.V=[],this.H=null,this._=!1,this.L=e}findChild(t){const e=this.V,s=e.length;let i=null,n=0;for(;n<s;++n)if(i=e[n],t.equals(i.charSpec))return i;return null}append(t,e){const s=this.L;s.includes(e)||s.push(e);let i=this.findChild(t);return null==i&&(i=new Ue(t,e),this.V.push(i),t.repeat&&i.V.push(i)),i}findMatches(t,e){const s=[],i=this.V,n=i.length;let r=0,h=null,o=0,a=0;for(;o<n;++o)if(h=i[o],h.charSpec.has(t))if(s.push(h),r=h.L.length,a=0,h.charSpec.isSymbol)for(;a<r;++a)e.next(h.L[a]);else for(;a<r;++a)e.append(h.L[a],t);return s}}class We{constructor(t){this.text=t;const e=this.M=t.length,s=this.$=[];let i=0;for(;e>i;++i)s.push(new qe(t[i],!1,!1,!1))}eachChar(t){const e=this.M,s=this.$;let i=0;for(;e>i;++i)t(s[i])}}class ze{constructor(t){this.text="PART",this.F=new qe(t,!0,!1,!0)}eachChar(t){t(this.F)}}class He{constructor(t){this.text=t,this.F=new qe(t,!1,!0,!1)}eachChar(t){t(this.F)}}class Ke{constructor(){this.statics=0,this.dynamics=0,this.symbols=0}}const Ge=Ee("ISyntaxInterpreter",t=>t.singleton(Xe));class Xe{constructor(){this.O=new Ue(null),this.W=[this.O]}add(t){t=t.slice(0).sort((t,e)=>t.pattern>e.pattern?1:-1);const e=t.length;let s,i,n,r,h,o,a,c,l=0;for(;e>l;){for(s=this.O,i=t[l],n=i.pattern,r=new Ke,h=this.N(i,r),o=h.length,a=t=>s=s.append(t,n),c=0;o>c;++c)h[c].eachChar(a);s.H=r,s._=!0,++l}}interpret(t){const e=new _e,s=t.length;let i,n=this.W,r=0;for(;r<s&&(n=this.j(n,t.charAt(r),e),0!==n.length);++r);return n=n.filter(Qe),n.length>0&&(n.sort(Je),i=n[0],i.charSpec.isSymbol||e.next(i.C),e.pattern=i.C),e}j(t,e,s){const i=[];let n=null;const r=t.length;let h=0;for(;h<r;++h)n=t[h],i.push(...n.findMatches(e,s));return i}N(t,e){const s=[],i=t.pattern,n=i.length,r=t.symbols;let h=0,o=0,a="";for(;h<n;)a=i.charAt(h),0!==r.length&&r.includes(a)?h!==o?(s.push(new We(i.slice(o,h))),++e.statics,o=h):(s.push(new He(i.slice(o,h+1))),++e.symbols,o=++h):h===o&&"P"===a&&"PART"===i.slice(h,h+4)?(o=h+=4,s.push(new ze(r)),++e.dynamics):++h;return o!==h&&(s.push(new We(i.slice(o,h))),++e.statics),s}}function Qe(t){return t._}function Je(t,e){const s=t.H,i=e.H;return s.statics!==i.statics?i.statics-s.statics:s.dynamics!==i.dynamics?i.dynamics-s.dynamics:s.symbols!==i.symbols?i.symbols-s.symbols:0}class Ye{constructor(t,e,s,i,n=null){this.rawName=t,this.rawValue=e,this.target=s,this.command=i,this.parts=n}}const Ze=Ee("IAttributePattern"),ts=Ee("IAttributeParser",t=>t.singleton(es));class es{constructor(){this.U={},this.L={},this.q=!1,this.G=[],this.J=lt(Ge),this.c=lt(At)}registerPattern(t,e){if(this.q)throw Ve(88);const s=this.L;for(const{pattern:i}of t){if(null!=s[i])throw Ve(89,i);s[i]={patternType:e}}this.G.push(...t)}K(){this.J.add(this.G);const t=this.c;for(const[,e]of Object.entries(this.L))e.pattern=t.get(e.patternType)}parse(t,e){this.q||(this.K(),this.q=!0);let s=this.U[t];null==s&&(s=this.U[t]=this.J.interpret(t));const i=s.pattern;return null==i?new Ye(t,e,t,null,null):this.L[i].pattern[i](t,e,s.parts)}}const ss=Le({name:H("attribute-pattern"),create:(t,e)=>({register(s){s.get(ts).registerPattern(t,e),Be(Ze,e).register(s)}})});class is{"PART.PART"(t,e,s){return new Ye(t,e,s[0],s[1])}"PART.PART.PART"(t,e,s){return new Ye(t,e,`${s[0]}.${s[1]}`,s[2])}}is[Symbol.metadata]={[Y]:ss.create([{pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."}],is)};class ns{ref(t,e,s){return new Ye(t,e,"element","ref")}"PART.ref"(t,e,s){let i=s[0];return"view-model"===i&&(i="component"),new Ye(t,e,i,"ref")}}ns[Symbol.metadata]={[Y]:ss.create([{pattern:"ref",symbols:""},{pattern:"PART.ref",symbols:"."}],ns)};class rs{"PART.trigger:PART"(t,e,s){return new Ye(t,e,s[0],"trigger",s)}"PART.capture:PART"(t,e,s){return new Ye(t,e,s[0],"capture",s)}}rs[Symbol.metadata]={[Y]:ss.create([{pattern:"PART.trigger:PART",symbols:".:"},{pattern:"PART.capture:PART",symbols:".:"}],rs)};class hs{":PART"(t,e,s){return new Ye(t,e,s[0],"bind")}}hs[Symbol.metadata]={[Y]:ss.create([{pattern:":PART",symbols:":"}],hs)};class os{"@PART"(t,e,s){return new Ye(t,e,s[0],"trigger")}"@PART:PART"(t,e,s){return new Ye(t,e,s[0],"trigger",[s[0],"trigger",...s.slice(1)])}}os[Symbol.metadata]={[Y]:ss.create([{pattern:"@PART",symbols:"@"},{pattern:"@PART:PART",symbols:"@:"}],os)};const as=Ee("Instruction");"function"==typeof SuppressedError&&SuppressedError;q(Ne);const cs=Ee("IResourceResolver"),ls=(Le(["name","attribute","mode"]),Ee("ITemplateCompilerHooks")),us=(Le({name:H("compiler-hooks"),define:t=>({register(e){Be(ls,t).register(e)}}),findAll:t=>t.get(_t(ls))}),Object.prototype.hasOwnProperty),ds=Reflect.defineProperty;function fs(t,e,s){return ds(t,e,{configurable:!0,writable:!0,value:s}),s}function ps(t,e,s){e in t||fs(t,e,s)}const gs=Object.assign,vs=Object.freeze,ms=String,bs=St.createInterface,ys=r.get,ws=r.define,ks=(t,...e)=>new Error(`AUR${ms(t).padStart(4,"0")}:${e.map(ms)}`);class Cs{constructor(t,e,s,i){this.parent=t,this.bindingContext=e,this.overrideContext=s,this.isBoundary=i}static getContext(t,e,s){if(null==t)throw ks(203);let i=t.overrideContext,n=t;if(s>0){for(;s>0;)if(s--,n=n.parent,null==n)return;return i=n.overrideContext,e in i?i:n.bindingContext}for(;null!=n&&!n.isBoundary&&!(e in n.overrideContext)&&!(e in n.bindingContext);)n=n.parent;return null==n?t.bindingContext:(i=n.overrideContext,e in i?i:n.bindingContext)}static create(t,e,s){if(null==t)throw ks(204);return new Cs(null,t,e??new Ts,s??!1)}static fromParent(t,e,s=new Ts){if(null==t)throw ks(203);return new Cs(t,e,s,!1)}}class Ts{}const{astAssign:$s,astEvaluate:Ss,astBind:As,astUnbind:xs}=(()=>{const t="AccessScope",e="AccessMember",s="AccessKeyed",i="Assign",n="ValueConverter",r="BindingBehavior",h="ForOfStatement",o="ArrayDestructuring",a="ObjectDestructuring",c="DestructuringAssignmentLeaf",l="Custom",u=Cs.getContext;function f(b,y,w,k){switch(b.$kind){case"AccessThis":{let t=y.overrideContext,e=y,s=b.ancestor;for(;s--&&t;)e=e.parent,t=e?.overrideContext??null;return s<1&&e?e.bindingContext:void 0}case"AccessBoundary":{let t=y;for(;null!=t&&!t.isBoundary;)t=t.parent;return t?t.bindingContext:void 0}case t:{const t=u(y,b.name,b.ancestor);null!==k&&k.observe(t,b.name);const e=t[b.name];if(null==e){if("$host"===b.name)throw ks(105);return e}return w?.boundFn&&m(e)?e.bind(t):e}case"AccessGlobal":return globalThis[b.name];case"CallGlobal":{const t=globalThis[b.name];if(m(t))return t(...b.args.map(t=>f(t,y,w,k)));if(!w?.strict&&null==t)return;throw ks(107)}case"ArrayLiteral":return b.elements.map(t=>f(t,y,w,k));case"ObjectLiteral":{const t={};for(let e=0;e<b.keys.length;++e)t[b.keys[e]]=f(b.values[e],y,w,k);return t}case"PrimitiveLiteral":return b.value;case"New":{const t=f(b.func,y,w,k);if(m(t))return new t(...b.args.map(t=>f(t,y,w,k)));throw ks(107)}case"Template":{let t=b.cooked[0];for(let e=0;e<b.expressions.length;++e)t+=ms(f(b.expressions[e],y,w,k)),t+=b.cooked[e+1];return t}case"Unary":{const t=f(b.expression,y,w,k);switch(b.operation){case"void":return;case"typeof":return typeof t;case"!":return!t;case"-":return-t;case"+":return+t;case"--":if(null!=k)throw ks(113);return p(b.expression,y,w,k,t-1)+b.pos;case"++":if(null!=k)throw ks(113);return p(b.expression,y,w,k,t+1)-b.pos;default:throw ks(109,b.operation)}}case"CallScope":{const t=u(y,b.name,b.ancestor);if(null==t){if(w?.strict)throw ks(114,b.name,t);return}const e=t[b.name];if(m(e))return e.apply(t,b.args.map(t=>f(t,y,w,k)));if(null==e){if(w?.strict&&!b.optional)throw ks(111,b.name);return}throw ks(111,b.name)}case"CallMember":{const t=f(b.object,y,w,k);if(null==t&&w?.strict&&!b.optionalMember)throw ks(114,b.name,t);const e=t?.[b.name];if(null==e){if(!b.optionalCall&&w?.strict)throw ks(111,b.name);return}if(!m(e))throw ks(111,b.name);const s=e.apply(t,b.args.map(t=>f(t,y,w,k)));return d(t)&&g.includes(b.name)&&k?.observeCollection(t),s}case"CallFunction":{const t=f(b.func,y,w,k);if(m(t))return t(...b.args.map(t=>f(t,y,w,k)));if(null==t){if(!b.optional&&w?.strict)throw ks(107);return}throw ks(107)}case"ArrowFunction":{const t=(...t)=>{const e=b.args,s=b.rest,i=e.length-1,n=e.reduce((e,n,r)=>(e[n.name]=s&&r===i?t.slice(r):t[r],e),{}),r=Cs.fromParent(y,n);return f(b.body,r,w,k)};return t}case e:{const t=f(b.object,y,w,k);if(null==t){if(!b.optional&&w?.strict)throw ks(114,b.name,t);return}null===k||b.accessGlobal||k.observe(t,b.name);const e=t[b.name];return w?.boundFn&&m(e)?e.bind(t):e}case s:{const t=f(b.object,y,w,k),e=f(b.key,y,w,k);if(null==t){if(!b.optional&&w?.strict)throw ks(115,e,t);return}return null===k||b.accessGlobal||k.observe(t,e),t[e]}case"TaggedTemplate":{const t=b.expressions.map(t=>f(t,y,w,k)),e=f(b.func,y,w,k);if(!m(e))throw ks(110);return e(b.cooked,...t)}case"Binary":{const t=b.left,e=b.right;switch(b.operation){case"&&":return f(t,y,w,k)&&f(e,y,w,k);case"||":return f(t,y,w,k)||f(e,y,w,k);case"??":return f(t,y,w,k)??f(e,y,w,k);case"==":return f(t,y,w,k)==f(e,y,w,k);case"===":return f(t,y,w,k)===f(e,y,w,k);case"!=":return f(t,y,w,k)!=f(e,y,w,k);case"!==":return f(t,y,w,k)!==f(e,y,w,k);case"instanceof":{const s=f(e,y,w,k);return!!m(s)&&f(t,y,w,k)instanceof s}case"in":{const s=f(e,y,w,k);return!!v(s)&&f(t,y,w,k)in s}case"+":return f(t,y,w,k)+f(e,y,w,k);case"-":return f(t,y,w,k)-f(e,y,w,k);case"*":return f(t,y,w,k)*f(e,y,w,k);case"/":return f(t,y,w,k)/f(e,y,w,k);case"%":return f(t,y,w,k)%f(e,y,w,k);case"**":return f(t,y,w,k)**f(e,y,w,k);case"<":return f(t,y,w,k)<f(e,y,w,k);case">":return f(t,y,w,k)>f(e,y,w,k);case"<=":return f(t,y,w,k)<=f(e,y,w,k);case">=":return f(t,y,w,k)>=f(e,y,w,k);default:throw ks(108,b.operation)}}case"Conditional":return f(b.condition,y,w,k)?f(b.yes,y,w,k):f(b.no,y,w,k);case i:{let t=f(b.value,y,w,k);if("="!==b.op){if(null!=k)throw ks(113);const e=f(b.target,y,w,k);switch(b.op){case"/=":t=e/t;break;case"*=":t*=e;break;case"+=":t=e+t;break;case"-=":t=e-t;break;default:throw ks(108,b.op)}}return p(b.target,y,w,k,t)}case n:return w?.useConverter?.(b.name,"toView",f(b.expression,y,w,k),b.args.map(t=>f(t,y,w,k)));case r:return f(b.expression,y,w,k);case"BindingIdentifier":return b.name;case h:return f(b.iterable,y,w,k);case"Interpolation":if(b.isMulti){let t=b.parts[0],e=0;for(;e<b.expressions.length;++e)t+=ms(f(b.expressions[e],y,w,k)),t+=b.parts[e+1];return t}return`${b.parts[0]}${f(b.firstExpression,y,w,k)}${b.parts[1]}`;case c:return f(b.target,y,w,k);case o:return b.list.map(t=>f(t,y,w,k));case"ArrayBindingPattern":case"ObjectBindingPattern":case a:default:return;case l:return b.evaluate(y,w,k)}}function p(h,g,m,b,y){switch(h.$kind){case t:if("$host"===h.name)throw ks(106);return u(g,h.name,h.ancestor)[h.name]=y;case e:{const t=f(h.object,g,m,b);if(null==t){if(m?.strict)throw ks(116,h.name);p(h.object,g,m,b,{[h.name]:y})}else v(t)&&("length"===h.name&&d(t)&&!isNaN(y)?t.splice(y):t[h.name]=y);return y}case s:{const t=f(h.object,g,m,b),e=f(h.key,g,m,b);if(null==t){if(m?.strict)throw ks(116,e);return p(h.object,g,m,b,{[e]:y}),y}if(d(t)){if("length"===e&&!isNaN(y))return t.splice(y),y;if(C(e))return t.splice(e,1,y),y}return t[e]=y}case i:return p(h.value,g,m,b,y),p(h.target,g,m,b,y);case n:return y=m?.useConverter?.(h.name,"fromView",y,h.args.map(t=>f(t,g,m,b))),p(h.expression,g,m,b,y);case r:return p(h.expression,g,m,b,y);case o:case a:{const t=h.list,e=t.length;let s,i;for(s=0;s<e;s++)switch(i=t[s],i.$kind){case c:p(i,g,m,b,y);break;case o:case a:{if("object"!=typeof y||null===y)throw ks(112);let t=f(i.source,Cs.create(y),m,null);void 0===t&&i.initializer&&(t=f(i.initializer,g,m,null)),p(i,g,m,b,t);break}}break}case c:if(h instanceof fe){if(null==y)return;if("object"!=typeof y)throw ks(112);let t=f(h.source,Cs.create(y),m,b);void 0===t&&h.initializer&&(t=f(h.initializer,g,m,b)),p(h.target,g,m,b,t)}else{if(null==y)return;if("object"!=typeof y)throw ks(112);const t=h.indexOrProperties;let e;if(C(t)){if(!Array.isArray(y))throw ks(112);e=y.slice(t)}else e=Object.entries(y).reduce((e,[s,i])=>(t.includes(s)||(e[s]=i),e),{});p(h.target,g,m,b,e)}break;case l:return h.assign(g,m,y);default:return}}const g="at map filter includes indexOf lastIndexOf findIndex find flat flatMap join reduce reduceRight slice every some sort".split(" ");return{astEvaluate:f,astAssign:p,astBind:function t(e,s,i){switch(e.$kind){case r:i.bindBehavior?.(e.name,s,e.args.map(t=>f(t,s,i,null))),t(e.expression,s,i);break;case n:i.bindConverter?.(e.name),t(e.expression,s,i);break;case h:t(e.iterable,s,i);break;case l:e.bind?.(s,i)}},astUnbind:function t(e,s,i){switch(e.$kind){case r:i.unbindBehavior?.(e.name,s),t(e.expression,s,i);break;case n:i.unbindConverter?.(e.name),t(e.expression,s,i);break;case h:t(e.iterable,s,i);break;case l:e.unbind?.(s,i)}}}})(),Rs="pending",Os="completed",Ms="canceled",Is=Promise.resolve();let Ps=!1,Es=!1;const Ls=[],js=[];let Bs=0,Ds=null,Ns=[],Fs=null,Vs=null;const qs=()=>{Ps||(Ps=!0,Is.then(()=>{Ps=!1,Es=!0,Us()}))},_s=t=>{if(Ds&&0===Ls.length&&0===Bs)if(Ds=null,Ns.length>0){const t=Ns;Ns=[],1===t.length?Vs(t[0]):Vs(new AggregateError(t,"One or more tasks failed."))}else Fs(t)},Us=()=>{const t=!Es;Es=!1,Ds??=new Promise((t,e)=>{Fs=t,Vs=e});let e=-Ls.length;const s=0===Ls.length;for(;Ls.length>0;){if(++e>1e4){const t=new Error("Potential deadlock detected. More than 10000 extra tasks were queued from within tasks.");throw Ls.length=0,Vs?.(t),Ds=null,t}const s=Ls.shift();if("function"==typeof s)try{s()}catch(t){Ns.push(t)}else s.run()}const i=Ns.slice();if(_s(!s),t&&i.length>0)throw 1===i.length?i[0]:new AggregateError(i,"One or more tasks failed.")},Ws=t=>{qs(),Ls.push(t)},zs=(t,e)=>{const s=new Ks(t,e?.delay);return null!=s.delay&&s.delay>0?(++Bs,s.t=setTimeout(()=>{--Bs,s.t=void 0,s.status!==Ms?(Ls.push(s),qs()):_s(!0)},s.delay)):(Ls.push(s),qs()),s};class Hs extends Error{constructor(t){super(`Task ${t.id} was canceled.`),this.task=t}}class Ks{get result(){return this.i}get status(){return this.u}constructor(t,e){this.callback=t,this.delay=e,this.id=++Ks.h,this.u=Rs,this.i=new Promise((t,e)=>{this.C=t,this.A=e})}run(){if(this.u!==Rs)throw new Error(`Cannot run task in ${this.u} state`);let t;this.u="running";try{t=this.callback()}catch(t){return this.u=Ms,this.A(t),void Ns.push(t)}t instanceof Promise?(++Bs,t.then(t=>{this.u=Os,this.C(t)}).catch(t=>{this.u=Ms,this.A(t),Ns.push(t)}).finally(()=>{--Bs,_s(!0)})):(this.u=Os,this.C(t))}cancel(){if(void 0!==this.t){clearTimeout(this.t),--Bs,this.t=void 0,this.u=Ms;const t=new Hs(this);return this.A(t),this.i.catch(Lt),_s(!0),!0}if(this.u===Rs){const t=Ls.indexOf(this);if(t>-1){Ls.splice(t,1),this.u=Ms;const e=new Hs(this);return this.A(e),this.i.catch(Lt),_s(!0),!0}}return!1}}Ks.h=0;class Gs{constructor(t,e){this.cb=t,this.P=e,this.id=++Gs.R,this.I=!1,this._=[]}run(){try{this.cb()}catch(t){return void Ns.push(t)}}O(){this.I||(this.t=setTimeout(()=>{this.M(),this.I||this.O()},this.P))}M(){Ls.push(this),qs();const t=this._.splice(0);for(const e of t)e()}next(){return this.I?Promise.resolve():new Promise(t=>this._.push(t))}cancel(){this.I=!0,void 0!==this.t&&(clearTimeout(this.t),this.t=void 0);const t=js.indexOf(this);t>-1&&js.splice(t,1);const e=this._.splice(0);for(const t of e)t()}}Gs.R=0;const Xs=St.createInterface("ICoercionConfiguration"),Qs=vs({None:0,Observer:1,Node:2,Layout:4});function Js(t=0){const e=Array(t);let s=0;for(;s<t;)e[s]=s++;return e.deletedIndices=[],e.deletedItems=[],e.isIndexMap=!0,e}new Map;const Ys=(()=>{function t(){return fs(this,"subs",new r)}function e(t){return this.subs.add(t)}function s(t){return this.subs.remove(t)}const i=new WeakSet;function n(n,r){if(!i.has(n)){i.add(n);const r=n.prototype;ds(r,"subs",{get:t}),ps(r,"subscribe",e),ps(r,"unsubscribe",s)}return n}class r{constructor(){this.count=0,this.T=[],this.L=[],this.N=!1}add(t){return!this.T.includes(t)&&(this.T[this.T.length]=t,"handleDirty"in t&&(this.L[this.L.length]=t,this.N=!0),++this.count,!0)}remove(t){let e=this.T.indexOf(t);return-1!==e&&(this.T.splice(e,1),e=this.L.indexOf(t),-1!==e&&(this.L.splice(e,1),this.N=this.L.length>0),--this.count,!0)}notify(t,e){for(const s of this.T.slice(0))s.handleChange(t,e)}notifyCollection(t,e){const s=this.T.slice(0),i=s.length;let n=0;for(;n<i;++n)s[n].handleCollectionChange(t,e)}notifyDirty(){if(this.N)for(const t of this.L.slice(0))t.handleDirty()}}return function(t,e){return null==t?n:n(t)}})();class Zs{constructor(t){this.owner=t,this.type=1,this.v=(this.o=t.collection).length}getValue(){return this.o.length}setValue(t){t!==this.v&&(Number.isNaN(t)||(this.o.splice(t),this.v=this.o.length))}handleDirty(){this.v!==this.o.length&&this.subs.notifyDirty()}handleCollectionChange(t,e){const s=this.v,i=this.o.length;(this.v=i)!==s&&(this.subs.notifyDirty(),this.subs.notify(this.v,s))}}ei(Zs);class ti{constructor(t){this.owner=t,this.type=1,this.v=(this.o=t.collection).size}getValue(){return this.o.size}setValue(){throw ks(220)}handleDirty(){this.v!==this.o.size&&this.subs.notifyDirty()}handleCollectionChange(t,e){const s=this.v,i=this.o.size;(this.v=i)!==s&&this.subs.notify(this.v,s)}}function ei(t){const e=t.prototype;return ps(e,"subscribe",si),ps(e,"unsubscribe",ii),Ys(t,null)}function si(t){this.subs.add(t)&&1===this.subs.count&&this.owner.subscribe(this)}function ii(t){this.subs.remove(t)&&0===this.subs.count&&this.owner.subscribe(this)}ei(ti);const ni=(()=>{const t=Symbol.for("__au_arr_obs__"),e=Array[t]??fs(Array,t,new WeakMap);function s(t,e){return t===e?0:(t=null===t?"null":t.toString())<(e=null===e?"null":e.toString())?-1:1}function i(t,e){return void 0===t?void 0===e?0:1:void 0===e?-1:0}function n(t,e,s,i,n){let r,h,o,a,c,l,u;for(l=s+1;l<i;l++){for(r=t[l],h=e[l],u=l-1;u>=s&&(o=t[u],a=e[u],c=n(o,r),c>0);u--)t[u+1]=o,e[u+1]=a;t[u+1]=r,e[u+1]=h}}function r(t,e,s,i,h){let o,a,c,l,u,d,f,p,g,v,m,b,y,w,k,C,T,$,S,A=0,x=0;for(;;){if(i-s<=10)return void n(t,e,s,i,h);A=s+(i-s>>1),o=t[s],l=e[s],a=t[i-1],u=e[i-1],c=t[A],d=e[A],f=h(o,a),f>0&&(v=o,m=l,o=a,l=u,a=v,u=m),p=h(o,c),p>=0?(v=o,m=l,o=c,l=d,c=a,d=u,a=v,u=m):(g=h(a,c),g>0&&(v=a,m=u,a=c,u=d,c=v,d=m)),t[s]=o,e[s]=l,t[i-1]=c,e[i-1]=d,b=a,y=u,w=s+1,k=i-1,t[A]=t[w],e[A]=e[w],t[w]=b,e[w]=y;t:for(x=w+1;x<k;x++)if(C=t[x],T=e[x],$=h(C,b),$<0)t[x]=t[w],e[x]=e[w],t[w]=C,e[w]=T,w++;else if($>0){do{if(k--,k==x)break t;S=t[k],$=h(S,b)}while($>0);t[x]=t[k],e[x]=e[k],t[k]=C,e[k]=T,$<0&&(C=t[x],T=e[x],t[x]=t[w],e[x]=e[w],t[w]=C,e[w]=T,w++)}i-k<w-s?(r(t,e,k,i,h),i=w):(r(t,e,s,w,h),s=k)}}const h=Array.prototype,o=["push","unshift","pop","shift","splice","reverse","sort"];let a,c=!1;const l="__au_arr_on__";function u(){if(void 0===a&&function(){const t=h.push,n=h.unshift,c=h.pop,l=h.shift,u=h.splice,d=h.reverse,f=h.sort;a={push:function(...s){const i=e.get(this);if(void 0===i)return t.apply(this,s);const n=this.length,r=s.length;if(0===r)return n;this.length=i.indexMap.length=n+r;let h=n;for(;h<this.length;)this[h]=s[h-n],i.indexMap[h]=-2,h++;return i.notify(),this.length},unshift:function(...t){const s=e.get(this);if(void 0===s)return n.apply(this,t);const i=t.length,r=new Array(i);let h=0;for(;h<i;)r[h++]=-2;n.apply(s.indexMap,r);const o=n.apply(this,t);return s.notify(),o},pop:function(){const t=e.get(this);if(void 0===t)return c.call(this);const s=t.indexMap,i=c.call(this),n=s.length-1;return s[n]>-1&&(s.deletedIndices.push(s[n]),s.deletedItems.push(i)),c.call(s),t.notify(),i},shift:function(){const t=e.get(this);if(void 0===t)return l.call(this);const s=t.indexMap,i=l.call(this);return s[0]>-1&&(s.deletedIndices.push(s[0]),s.deletedItems.push(i)),l.call(s),t.notify(),i},splice:function(...t){const s=t[0],i=t[1],n=e.get(this);if(void 0===n)return u.apply(this,t);const r=this.length,h=0|s,o=h<0?Math.max(r+h,0):Math.min(h,r),a=n.indexMap,c=t.length,l=0===c?0:1===c?r-o:i;let d=o;if(l>0){const t=d+l;for(;d<t;)a[d]>-1&&(a.deletedIndices.push(a[d]),a.deletedItems.push(this[d])),d++}if(d=0,c>2){const t=c-2,e=new Array(t);for(;d<t;)e[d++]=-2;u.call(a,s,i,...e)}else u.apply(a,t);const f=u.apply(this,t);return(l>0||d>0)&&n.notify(),f},reverse:function(){const t=e.get(this);if(void 0===t)return d.call(this),this;const s=this.length,i=s/2|0;let n=0;for(;n!==i;){const e=s-n-1,i=this[n],r=t.indexMap[n],h=this[e],o=t.indexMap[e];this[n]=h,t.indexMap[n]=o,this[e]=i,t.indexMap[e]=r,n++}return t.notify(),this},sort:function(t){const n=e.get(this);if(void 0===n)return f.call(this,t),this;let h=this.length;if(h<2)return this;r(this,n.indexMap,0,h,i);let o=0;for(;o<h&&void 0!==this[o];)o++;void 0!==t&&m(t)||(t=s),r(this,n.indexMap,0,o,t);let a=!1;for(o=0,h=n.indexMap.length;h>o;++o)if(n.indexMap[o]!==o){a=!0;break}return a&&n.notify(),this}};for(const t of o)ds(a[t],"observing",{value:!0})}(),!ys(l,Array)){ws(!0,Array,l);for(const t of o)!0!==h[t].observing&&fs(h,t,a[t])}}class d{constructor(t){this.type=1,c||(c=!0,u()),this.indexObservers={},this.collection=t,this.indexMap=Js(t.length),this.lenObs=void 0,e.set(t,this)}notify(){const t=this.subs;t.notifyDirty();const e=this.indexMap;const s=this.collection,i=s.length;this.indexMap=Js(i),t.notifyCollection(s,e)}getLengthObserver(){return this.lenObs??=new Zs(this)}getIndexObserver(t){return this.indexObservers[t]??=new f(this,t)}}Ys(d,null);class f{constructor(t,e){this.owner=t,this.index=e,this.doNotCache=!0,this.value=this.getValue()}getValue(){return this.owner.collection[this.index]}setValue(t){if(t===this.getValue())return;const e=this.owner,s=this.index,i=e.indexMap;i[s]>-1&&i.deletedIndices.push(i[s]),i[s]=-2,e.collection[s]=t,e.notify()}handleDirty(){this.value!==this.getValue()&&this.subs.notifyDirty()}handleCollectionChange(t,e){const s=this.index;if(e[s]===s)return;const i=this.value,n=this.value=this.getValue();i!==n&&this.subs.notify(n,i)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&this.owner.subscribe(this)}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.owner.unsubscribe(this)}}return Ys(f,null),function(t){let s=e.get(t);return void 0===s&&(e.set(t,s=new d(t)),u()),s}})(),ri=(()=>{const t=Symbol.for("__au_set_obs__"),e=Set[t]??fs(Set,t,new WeakMap),{add:s,clear:i,delete:n}=Set.prototype,r=["add","clear","delete"],h={add:function(t){const i=e.get(this);if(void 0===i)return s.call(this,t),this;const n=this.size;return s.call(this,t),this.size===n||(i.indexMap[n]=-2,i.notify()),this},clear:function(){const t=e.get(this);if(void 0===t)return i.call(this);if(this.size>0){const e=t.indexMap;let s=0;for(const t of this.keys())e[s]>-1&&(e.deletedIndices.push(e[s]),e.deletedItems.push(t)),s++;i.call(this),e.length=0,t.notify()}},delete:function(t){const s=e.get(this);if(void 0===s)return n.call(this,t);if(0===this.size)return!1;let i=0;const r=s.indexMap;for(const e of this.keys()){if(e===t){r[i]>-1&&(r.deletedIndices.push(r[i]),r.deletedItems.push(e)),r.splice(i,1);const h=n.call(this,t);return!0===h&&s.notify(),h}i++}return!1}};class o{constructor(t){this.type=1,this.collection=t,this.indexMap=Js(t.size),this.lenObs=void 0}notify(){const t=this.subs;t.notifyDirty();const e=this.indexMap;const s=this.collection,i=s.size;this.indexMap=Js(i),t.notifyCollection(s,e)}getLengthObserver(){return this.lenObs??=new ti(this)}}return Ys(o,null),function(t){let s=e.get(t);return void 0===s&&(e.set(t,s=new o(t)),function(t){for(const e of r)fs(t,e,h[e])}(t)),s}})(),hi=(()=>{const t=Symbol.for("__au_map_obs__"),e=Map[t]??fs(Map,t,new WeakMap),{set:s,clear:i,delete:n}=Map.prototype,r=["set","clear","delete"],h={set:function(t,i){const n=e.get(this);if(void 0===n)return s.call(this,t,i),this;const r=this.get(t),h=this.size;if(s.call(this,t,i),this.size===h){let e=0;for(const s of this.entries()){if(s[0]===t)return s[1]!==r&&(n.indexMap.deletedIndices.push(n.indexMap[e]),n.indexMap.deletedItems.push(s),n.indexMap[e]=-2,n.notify()),this;e++}return this}return n.indexMap[h]=-2,n.notify(),this},clear:function(){const t=e.get(this);if(void 0===t)return i.call(this);if(this.size>0){const e=t.indexMap;let s=0;for(const t of this.keys())e[s]>-1&&(e.deletedIndices.push(e[s]),e.deletedItems.push(t)),s++;i.call(this),e.length=0,t.notify()}},delete:function(t){const s=e.get(this);if(void 0===s)return n.call(this,t);if(0===this.size)return!1;let i=0;const r=s.indexMap;for(const e of this.keys()){if(e===t){r[i]>-1&&(r.deletedIndices.push(r[i]),r.deletedItems.push(e)),r.splice(i,1);const h=n.call(this,t);return!0===h&&s.notify(),h}++i}return!1}};class o{constructor(t){this.type=1,this.collection=t,this.indexMap=Js(t.size),this.lenObs=void 0}notify(){const t=this.subs;t.notifyDirty();const e=this.indexMap;const s=this.collection,i=s.size;this.indexMap=Js(i),t.notifyCollection(s,e)}getLengthObserver(){return this.lenObs??=new ti(this)}}return Ys(o,null),function(t){let s=e.get(t);return void 0===s&&(e.set(t,s=new o(t)),function(t){for(const e of r)fs(t,e,h[e])}(t)),s}})(),oi=(()=>{class t{constructor(t){this.version=0,this.count=0,this.o=new Map,this.b=t}add(t){this.o.has(t)||(t.subscribe(this.b),++this.count),this.o.set(t,this.version)}clear(){this.o.forEach(s,this),this.count=this.o.size}clearAll(){this.o.forEach(e,this),this.o.clear(),this.count=0}}function e(t,e){e.unsubscribe(this.b)}function s(t,e){this.version!==t&&(e.unsubscribe(this.b),this.o.delete(e))}function i(){return fs(this,"obs",new t(this))}function n(t,e){this.obs.add(this.oL.getObserver(t,e))}function r(t){let e;if(d(t))e=ni(t);else if(f(t))e=ri(t);else{if(!p(t))throw ks(210,t);e=hi(t)}this.obs.add(e)}function h(t){this.obs.add(t)}function o(){throw ks(99,"handleChange")}function a(){throw ks(99,"handleCollectionChange")}return function(t,e){const s=t.prototype;return ps(s,"observe",n),ps(s,"observeCollection",r),ps(s,"subscribeTo",h),ds(s,"obs",{get:i}),ps(s,"handleChange",o),ps(s,"handleCollectionChange",a),t}})();function ai(t,e){return null==t?oi:oi(t,e)}let ci=null;const li=[];let ui=!1;function di(){return ci}function fi(t){if(null==t)throw ks(206);if(null==ci)return ci=t,li[0]=ci,void(ui=!0);if(ci===t)throw ks(207);li.push(t),ci=t,ui=!0}function pi(t){if(null==t)throw ks(208);if(ci!==t)throw ks(209);li.pop(),ci=li.length>0?li[li.length-1]:null,ui=null!=ci}const gi=vs({get current(){return ci},get connecting(){return ui},enter:fi,exit:pi,pause:function(){ui=!1},resume:function(){ui=!0}}),vi=Reflect.get,mi=Object.prototype.toString,bi=new WeakMap;function yi(t){switch(mi.call(t)){case"[object Object]":return!0!==t.constructor.__au_nw__;case"[object Array]":case"[object Map]":case"[object Set]":return!0;default:return!1}}const wi="__raw__";function ki(t){return yi(t)?Ci(t):t}function Ci(t){return bi.get(t)??function(t){const e=d(t)?xi:p(t)||f(t)?Qi:Ai,s=new Proxy(t,e);return bi.set(t,s),bi.set(s,s),s}(t)}function Ti(t){return t[wi]??t}function $i(t){return yi(t)&&t[wi]||t}function Si(t,e){if("constructor"===e||"__proto__"===e||"$observers"===e||e===Symbol.toPrimitive||e===Symbol.toStringTag||!0===t.constructor[`__au_nw_${ms(e)}__`])return!0;const s=Reflect.getOwnPropertyDescriptor(t,e);return!1===s?.configurable&&!1===s.writable}const Ai={get(t,e,s){if(e===wi)return t;const i=di();return!ui||Si(t,e)||null==i?vi(t,e,s):(i.observe(t,e),ki(vi(t,e,s)))},deleteProperty:(t,e)=>delete t[e]},xi={get(t,e,s){if(e===wi)return t;if(!ui||Si(t,e)||null==ci)return vi(t,e,s);switch(e){case"length":return ci.observe(t,"length"),t.length;case"map":return Ri;case"includes":return Ii;case"indexOf":return Pi;case"lastIndexOf":return Ei;case"every":return Oi;case"filter":return Mi;case"find":return ji;case"findIndex":return Li;case"flat":return Bi;case"flatMap":return Di;case"join":return Ni;case"push":return Vi;case"pop":return Fi;case"reduce":return Gi;case"reduceRight":return Xi;case"reverse":return Wi;case"shift":return qi;case"unshift":return _i;case"slice":return Ki;case"splice":return Ui;case"some":return zi;case"sort":return Hi;case"keys":return rn;case"values":case Symbol.iterator:return hn;case"entries":return on}return ci.observe(t,e),ki(vi(t,e,s))},ownKeys:t=>(di()?.observe(t,"length"),Reflect.ownKeys(t))};function Ri(t,e){const s=Ti(this),i=s.map((s,i)=>$i(t.call(e,ki(s),i,this)));return an(ci,s),ki(i)}function Oi(t,e){const s=Ti(this),i=s.every((s,i)=>t.call(e,ki(s),i,this));return an(ci,s),i}function Mi(t,e){const s=Ti(this),i=s.filter((s,i)=>$i(t.call(e,ki(s),i,this)));return an(ci,s),ki(i)}function Ii(t){const e=Ti(this),s=e.includes($i(t));return an(ci,e),s}function Pi(t){const e=Ti(this),s=e.indexOf($i(t));return an(ci,e),s}function Ei(t){const e=Ti(this),s=e.lastIndexOf($i(t));return an(ci,e),s}function Li(t,e){const s=Ti(this),i=s.findIndex((s,i)=>$i(t.call(e,ki(s),i,this)));return an(ci,s),i}function ji(t,e){const s=Ti(this),i=s.find((e,s)=>t(ki(e),s,this),e);return an(ci,s),ki(i)}function Bi(){const t=Ti(this);return an(ci,t),ki(t.flat())}function Di(t,e){const s=Ti(this);return an(ci,s),Ci(s.flatMap((s,i)=>ki(t.call(e,ki(s),i,this))))}function Ni(t){const e=Ti(this);return an(ci,e),e.join(t)}function Fi(){return ki(Ti(this).pop())}function Vi(...t){return Ti(this).push(...t)}function qi(){return ki(Ti(this).shift())}function _i(...t){return Ti(this).unshift(...t)}function Ui(...t){return ki(Ti(this).splice(...t))}function Wi(...t){return ki(Ti(this).reverse())}function zi(t,e){const s=Ti(this),i=s.some((s,i)=>$i(t.call(e,ki(s),i,this)));return an(ci,s),i}function Hi(t){const e=Ti(this),s=e.sort(t);return an(ci,e),ki(s)}function Ki(t,e){const s=Ti(this);return an(ci,s),Ci(s.slice(t,e))}function Gi(t,e){const s=Ti(this),i=s.reduce((e,s,i)=>t(e,ki(s),i,this),e);return an(ci,s),ki(i)}function Xi(t,e){const s=Ti(this),i=s.reduceRight((e,s,i)=>t(e,ki(s),i,this),e);return an(ci,s),ki(i)}const Qi={get(t,e,s){if(e===wi)return t;const i=di();if(!ui||Si(t,e)||null==i)return vi(t,e,s);switch(e){case"size":return i.observe(t,"size"),t.size;case"clear":return sn;case"delete":return nn;case"forEach":return Ji;case"add":if(f(t))return en;break;case"get":if(p(t))return Zi;break;case"set":if(p(t))return tn;break;case"has":return Yi;case"keys":return rn;case"values":return hn;case"entries":return on;case Symbol.iterator:return p(t)?on:hn}return ki(vi(t,e,s))}};function Ji(t,e){const s=Ti(this);return an(ci,s),s.forEach((s,i)=>{t.call(e,ki(s),ki(i),this)})}function Yi(t){const e=Ti(this);return an(ci,e),e.has($i(t))}function Zi(t){const e=Ti(this);return an(ci,e),ki(e.get($i(t)))}function tn(t,e){return ki(Ti(this).set($i(t),$i(e)))}function en(t){return ki(Ti(this).add($i(t)))}function sn(){return ki(Ti(this).clear())}function nn(t){return ki(Ti(this).delete($i(t)))}function rn(){const t=Ti(this);an(ci,t);const e=t.keys();return{next(){const t=e.next(),s=t.value,i=t.done;return i?{value:void 0,done:i}:{value:ki(s),done:i}},[Symbol.iterator](){return this}}}function hn(){const t=Ti(this);an(ci,t);const e=t.values();return{next(){const t=e.next(),s=t.value,i=t.done;return i?{value:void 0,done:i}:{value:ki(s),done:i}},[Symbol.iterator](){return this}}}function on(){const t=Ti(this);an(ci,t);const e=t.entries();return{next(){const t=e.next(),s=t.value,i=t.done;return i?{value:void 0,done:i}:{value:[ki(s[0]),ki(s[1])],done:i}},[Symbol.iterator](){return this}}}const an=(t,e)=>t?.observeCollection(e),cn=vs({getProxy:Ci,getRaw:Ti,wrap:ki,unwrap:$i,rawKey:wi});class ln{constructor(t,e,s,i,n="async"){this.type=1,this.ov=void 0,this.v=void 0,this.V=!1,this.B=!1,this.D=!1,this.cb=void 0,this.j=void 0,this.F=void 0,this.o=t,this.H=ki(t),this.$get=e,this.$set=s,this.oL=i,this.$=n}init(t){this.v=t,this.D=!1}getValue(){return 0===this.subs.count?this.$get.call(this.o,this.o,this):(this.D&&(this.compute(),this.D=!1,this.V=!1),this.v)}setValue(t){if(!m(this.$set))throw ks(221);void 0!==this.j&&(t=this.j.call(null,t,this.F)),w(t,this.v)||(this.$set.call(this.o,t),this.run())}useCoercer(t,e){return this.j=t,this.F=e,!0}useCallback(t){return this.cb=t,!0}handleDirty(){this.D||(this.D=!0,this.subs.notifyDirty())}handleChange(){this.D=!0,this.subs.count>0&&this.run()}handleCollectionChange(){this.D=!0,this.subs.count>0&&this.run()}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.ov=this.compute(),this.D=!1,this.V=!1)}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&(this.D=!0,this.obs.clearAll(),this.ov=void 0,this.V=!0)}run(){"sync"!==this.$?this.B||(this.B=!0,Ws(()=>{this.B=!1,this.U()})):this.U()}U(){const t=this.v,e=this.ov,s=this.compute();this.D=!1,this.V&&w(s,t)||(this.cb?.(s,e),this.subs.notify(s,e),this.ov=this.v=s,this.V=!0)}compute(){this.obs.version++;try{return fi(this),this.v=$i(this.$get.call(this.H,this.H,this))}finally{this.obs.clear(),pi(this)}}}ai(ln,null),Ys(ln,null),"function"==typeof SuppressedError&&SuppressedError;const un=(()=>{const t=new WeakMap,e=t=>(t=>"symbol"==typeof t)(t)?t:String(t);return{get:(s,i)=>t.get(s)?.get(e(i)),W:(s,i)=>t.get(s)?.get(e(i))?.flush,set:(s,i,n)=>{t.has(s)||t.set(s,new Map),t.get(s).set(e(i),n)}}})(),dn=bs("IDirtyChecker",void 0);class fn{get doNotCache(){return!0}constructor(t,e){this.type=0,this.o=t,this.k=e}getValue(){return this.o[this.k]}setValue(){}subscribe(){}unsubscribe(){}}class pn{constructor(){this.type=0}getValue(t,e){return t[e]}setValue(t,e,s){e[s]=t}}class gn{constructor(t,e){this.type=1,this.v=void 0,this.iO=!1,this.cb=void 0,this.j=void 0,this.F=void 0,this.o=t,this.k=e}getValue(){return this.v}setValue(t){void 0!==this.j&&(t=this.j.call(void 0,t,this.F));const e=this.v;if(this.iO){if(w(t,this.v))return;this.v=t,this.subs.notifyDirty(),this.subs.notify(t,e),w(t,this.v)&&this.cb?.(t,e)}else this.v=this.o[this.k]=t,this.cb?.(t,e)}useCallback(t){return this.cb=t,this.start(),!0}useCoercer(t,e){return this.j=t,this.F=e,this.start(),!0}subscribe(t){!1===this.iO&&this.start(),this.subs.add(t)}start(){return!1===this.iO&&(this.iO=!0,this.v=this.o[this.k],ds(this.o,this.k,{enumerable:!0,configurable:!0,get:gs(()=>this.getValue(),{getObserver:()=>this}),set:t=>{this.setValue(t)}})),this}stop(){return this.iO&&(ds(this.o,this.k,{enumerable:!0,configurable:!0,writable:!0,value:this.v}),this.iO=!1),this}}Ys(gn,null);const vn=new pn,mn=bs("IObserverLocator",t=>t.singleton(kn)),bn=bs("INodeObserverLocator",t=>t.cachedCallback(t=>new yn));class yn{handles(){return!1}getObserver(){return vn}getAccessor(){return vn}}const wn=bs("IComputedObserverLocator",t=>t.singleton(class{getObserver(t,e,s,i){const n=new ln(t,s.get,s.set,i,un.W(t,e));return ds(t,e,{enumerable:s.enumerable,configurable:!0,get:gs(()=>n.getValue(),{getObserver:()=>n}),set:t=>{n.setValue(t)}}),n}}));class kn{constructor(){this.J=[],this.G=lt(dn),this.X=lt(bn),this.Y=lt(wn)}addAdapter(t){this.J.push(t)}getObserver(t,e){if(null==t)throw ks(199,e);if(!g(t))return new fn(t,m(e)?"":e);if(m(e))return new ln(t,e,void 0,this);const s=$n(t);let i=s[e];return void 0===i&&(i=this.createObserver(t,e),i.doNotCache||(s[e]=i)),i}getAccessor(t,e){const s=t.$observers?.[e];return void 0!==s?s:this.X.handles(t,e,this)?this.X.getAccessor(t,e,this):vn}getArrayObserver(t){return ni(t)}getMapObserver(t){return hi(t)}getSetObserver(t){return ri(t)}createObserver(t,e){if(this.X.handles(t,e,this))return this.X.getObserver(t,e,this);switch(e){case"length":if(d(t))return ni(t).getLengthObserver();break;case"size":if(p(t))return hi(t).getLengthObserver();if(f(t))return ri(t).getLengthObserver();break;default:if(d(t)&&C(e))return ni(t).getIndexObserver(Number(e))}let s=Tn(t,e);if(void 0===s){let i=Cn(t);for(;null!==i&&(s=Tn(i,e),void 0===s);)i=Cn(i)}if(void 0!==s&&!us.call(s,"value")){let i=this.Z(t,e,s);return null==i&&(i=(s.get?.getObserver)?.(t)),null==i?s.configurable?this.Y.getObserver(t,e,s,this):this.G.createProperty(t,e):i}return new gn(t,e)}Z(t,e,s){if(this.J.length>0)for(const i of this.J){const n=i.getObserver(t,e,s,this);if(null!=n)return n}return null}}const Cn=Object.getPrototypeOf,Tn=Object.getOwnPropertyDescriptor,$n=t=>{let e=t.$observers;return void 0===e&&ds(t,"$observers",{value:e=y()}),e};ai(class{constructor(t,e){this.oL=t,this.fn=e,this.maxRunCount=10,this.queued=!1,this.running=!1,this.runCount=0,this.stopped=!1,this.et=void 0,this.run=()=>{if(this.stopped)throw ks(225);if(!this.running){++this.runCount,this.running=!0,this.queued=!1,++this.obs.version;try{this.et?.call(void 0),fi(this),this.et=this.fn(this)}finally{this.obs.clear(),this.running=!1,pi(this)}if(this.queued){if(this.runCount>this.maxRunCount)throw this.runCount=0,ks(226);this.run()}else this.runCount=0}},this.stop=()=>{this.et?.call(void 0),this.et=void 0,this.stopped=!0,this.obs.clearAll()}}handleChange(){this.queued=!0,this.run()}handleCollectionChange(){this.queued=!0,this.run()}},null);class Sn{constructor(t,e,s,i){this.oL=e,this.v=void 0,this.boundFn=!1,this.s=t,this.ast=s,this.cb=i}handleChange(){this.run()}handleCollectionChange(){this.run()}run(){this.obs.version++;const t=this.v,e=Ss(this.ast,this.s,this,this);this.obs.clear(),w(e,t)||(this.v=e,this.cb.call(void 0,e,t))}stop(){this.obs.clearAll(),this.v=void 0}}ai(Sn,null),(t=>{const e=t.prototype;["bindBehavior","unbindBehavior","bindConverter","unbindConverter","useConverter"].forEach(t=>{fs(e,t,()=>{throw ks(99,t)})})})(Sn);const An="pending",xn="running",Rn="completed",On="canceled",Mn=new Map,In=t=>()=>{throw Hn(`AUR1005:${t}`)};class Pn{constructor(t,e={}){this.macroTaskRequested=!1,this.macroTaskHandle=-1,this.globalThis=t,"decodeURI decodeURIComponent encodeURI encodeURIComponent Date Reflect console".split(" ").forEach(s=>{this[s]=s in e?e[s]:t[s]}),"clearInterval clearTimeout queueMicrotask setInterval setTimeout".split(" ").forEach(s=>{this[s]=s in e?e[s]:t[s]?.bind(t)??In(s)}),this.performanceNow="performanceNow"in e?e.performanceNow:t.performance?.now?.bind(t.performance)??In("performance.now"),this.flushMacroTask=this.flushMacroTask.bind(this),this.taskQueue=new En(this,this.requestMacroTask.bind(this),this.cancelMacroTask.bind(this))}static getOrCreate(t,e={}){let s=Mn.get(t);return void 0===s&&Mn.set(t,s=new Pn(t,e)),s}static set(t,e){Mn.set(t,e)}requestMacroTask(){this.macroTaskRequested=!0,-1===this.macroTaskHandle&&(this.macroTaskHandle=this.setTimeout(this.flushMacroTask,0))}cancelMacroTask(){this.macroTaskRequested=!1,this.macroTaskHandle>-1&&(this.clearTimeout(this.macroTaskHandle),this.macroTaskHandle=-1)}flushMacroTask(){this.macroTaskHandle=-1,!0===this.macroTaskRequested&&(this.macroTaskRequested=!1,this.taskQueue.flush())}}class En{get isEmpty(){return 0===this.t&&0===this.i.length&&0===this.h.length&&0===this.u.length}get T(){return 0===this.t&&this.i.every(Un)&&this.h.every(Un)&&this.u.every(Un)}constructor(t,e,s){this.platform=t,this.$request=e,this.$cancel=s,this.$=void 0,this.t=0,this.i=[],this.h=[],this.u=[],this.R=!1,this.A=void 0,this.M=0,this.P=0,this.U=()=>{this.R||(this.R=!0,this.M=this.q(),this.$request())},this.q=t.performanceNow,this.I=new Dn(t.console)}flush(t=this.q()){if(this.R=!1,this.P=t,void 0===this.$){let e,s;if(this.h.length>0&&(this.i.push(...this.h),this.h.length=0),this.u.length>0)for(let s=0;s<this.u.length;++s)e=this.u[s],e.queueTime<=t&&(this.i.push(e),this.u.splice(s--,1));for(;this.i.length>0;)if((s=this.i.shift()).run(),s.status===xn){if(!0===s.suspend)return this.$=s,void this.U();++this.t}if(this.h.length>0&&(this.i.push(...this.h),this.h.length=0),this.u.length>0)for(let s=0;s<this.u.length;++s)e=this.u[s],e.queueTime<=t&&(this.i.push(e),this.u.splice(s--,1));if((this.i.length>0||this.u.length>0||this.t>0)&&this.U(),void 0!==this.A&&this.T){const t=this.A;this.A=void 0,t.resolve()}}else this.U()}cancel(){this.R&&(this.$cancel(),this.R=!1)}async yield(){this.isEmpty||(void 0===this.A&&(this.A=_n()),await this.A)}queueTask(t,e){const{delay:s,preempt:i,persistent:n,suspend:r}={...Nn,...e};if(i){if(s>0)throw Wn();if(n)throw zn()}0===this.i.length&&this.U();const h=this.q(),o=new Bn(this.I,this,h,h+s,i,n,r,t);return i?this.i[this.i.length]=o:0===s?this.h[this.h.length]=o:this.u[this.u.length]=o,o}remove(t){let e=this.i.indexOf(t);if(e>-1)this.i.splice(e,1);else if(e=this.h.indexOf(t),e>-1)this.h.splice(e,1);else{if(e=this.u.indexOf(t),!(e>-1))throw Hn(`Task #${t.id} could not be found`);this.u.splice(e,1)}}_(t){t.reset(this.q()),t.createdTime===t.queueTime?this.h[this.h.length]=t:this.u[this.u.length]=t}C(t){if(!0===t.suspend){if(this.$!==t)throw Hn(`Async task completion mismatch: suspenderTask=${this.$?.id}, task=${t.id}`);this.$=void 0}else--this.t;if(void 0!==this.A&&this.T){const t=this.A;this.A=void 0,t.resolve()}this.isEmpty&&this.cancel()}}class Ln extends Error{constructor(t){super("Task was canceled."),this.task=t}}let jn=0;class Bn{get result(){const t=this.N;if(void 0===t)switch(this.j){case An:{const t=this.N=_n();return this.F=t.resolve,this.O=t.reject,t}case xn:throw Hn("Trying to await task from within task will cause a deadlock.");case Rn:return this.N=Promise.resolve();case On:return this.N=Promise.reject(new Ln(this))}return t}get status(){return this.j}constructor(t,e,s,i,n,r,h,o){this.taskQueue=e,this.createdTime=s,this.queueTime=i,this.preempt=n,this.persistent=r,this.suspend=h,this.callback=o,this.id=++jn,this.F=void 0,this.O=void 0,this.N=void 0,this.j=An,this.I=t}run(t=this.taskQueue.platform.performanceNow()){if(this.j!==An)throw Hn(`Cannot run task in ${this.j} state`);const{persistent:e,taskQueue:s,callback:i,F:n,O:r,createdTime:h}=this;let o;this.j=xn;try{o=i(t-h),o instanceof Promise?o.then(t=>{this.persistent?s._(this):(this.j=e?On:Rn,this.dispose()),s.C(this),void 0!==n&&n(t)}).catch(t=>{if(this.persistent||this.dispose(),s.C(this),void 0===r)throw t;r(t)}):(this.persistent?s._(this):(this.j=e?On:Rn,this.dispose()),void 0!==n&&n(o))}catch(t){if(this.persistent||this.dispose(),void 0===r)throw t;r(t)}}cancel(){if(this.j===An){const t=this.taskQueue,e=this.O;return t.remove(this),t.isEmpty&&t.cancel(),this.j=On,this.dispose(),void 0!==e&&e(new Ln(this)),!0}return!(this.j!==xn||!this.persistent||(this.persistent=!1,0))}reset(t){const e=this.queueTime-this.createdTime;this.createdTime=t,this.queueTime=t+e,this.j=An,this.F=void 0,this.O=void 0,this.N=void 0}dispose(){this.callback=void 0,this.F=void 0,this.O=void 0,this.N=void 0}}class Dn{constructor(t){this.console=t,this.enabled=!1,this.depth=0}enter(t,e){this.log(`${"  ".repeat(this.depth++)}> `,t,e)}leave(t,e){this.log(`${"  ".repeat(--this.depth)}< `,t,e)}trace(t,e){this.log(`${"  ".repeat(this.depth)}- `,t,e)}log(t,e,s){if(e instanceof En){const i=`processing=${e.i.length} pending=${e.h.length} delayed=${e.u.length} flushReq=${e.R} susTask=${!!e.$}`;this.console.log(`${t}[Q.${s}] ${i}`)}else{const i=e.id,n=Math.round(10*e.createdTime)/10,r=Math.round(10*e.queueTime)/10,h=e.preempt,o=e.persistent,a=e.suspend,c=`id=${i} created=${n} queue=${r} preempt=${h} persistent=${o} status=${e.j} suspend=${a}`;this.console.log(`${t}[T.${s}] ${c}`)}}}const Nn={delay:0,preempt:!1,persistent:!1,suspend:!1};let Fn,Vn;const qn=(t,e)=>{Fn=t,Vn=e},_n=()=>{const t=new Promise(qn);return t.resolve=Fn,t.reject=Vn,t},Un=t=>t.persistent,Wn=()=>Hn("AUR1006"),zn=()=>Hn("AUR1007"),Hn=t=>new Error(t);class Kn extends Pn{static getOrCreate(t,e={}){let s=Kn.t.get(t);return void 0===s&&Kn.t.set(t,s=new Kn(t,e)),s}static set(t,e){Kn.t.set(t,e)}get domWriteQueue(){return this.domQueue}get domReadQueue(){return this.domQueue}constructor(t,e={}){super(t,e),"Node Element HTMLElement CustomEvent CSSStyleSheet ShadowRoot MutationObserver window document customElements".split(" ").forEach(s=>this[s]=s in e?e[s]:t[s]),"fetch requestAnimationFrame cancelAnimationFrame".split(" ").forEach(s=>this[s]=s in e?e[s]:t[s]?.bind(t)??(t=>()=>{throw new Error(`The PLATFORM did not receive a valid reference to the global function '${t}'.`)})(s)),this.domQueue=(()=>{let t=!1,e=-1;const s=()=>{e=-1,!0===t&&(t=!1,i.flush())},i=new En(this,()=>{t=!0,-1===e&&(e=this.requestAnimationFrame(s))},()=>{t=!1,e>-1&&(this.cancelAnimationFrame(e),e=-1)});return i})()}}Kn.t=new WeakMap,"function"==typeof SuppressedError&&SuppressedError;const{default:Gn,oneTime:Xn,toView:Qn,fromView:Jn,twoWay:Yn}=De,Zn=r.get,tr=r.has,er=r.define,{annotation:sr}=K,ir=sr.keyFor,nr=Object,rr=String,hr=nr.prototype,or=hr.hasOwnProperty,ar=nr.freeze,cr=nr.assign,lr=nr.getOwnPropertyNames,ur=nr.keys,dr=y(),fr=(t,e,s)=>{if(!0===dr[e])return!0;if(!b(e))return!1;const i=e.slice(0,5);return dr[e]="aria-"===i||"data-"===i||s.isStandardSvgAttribute(t,e)},pr=Reflect.defineProperty,gr=(t,e,s)=>(pr(t,e,{enumerable:!1,configurable:!0,writable:!0,value:s}),s),vr=(t,e,s)=>t.addSignalListener(e,s),mr=(t,e,s)=>t.removeSignalListener(e,s),br="IsProperty",yr="pending",wr="running",kr=Qs.Observer,Cr=Qs.Node,Tr=Qs.Layout,$r=(t,...e)=>{const s=rr(t).padStart(4,"0");return new Error(`AUR${s}:${e.map(rr)}`)};function Sr(t,e){let s;function i(t,e){let i;switch(e.kind){case"getter":case"field":{const t=e.name;if("string"!=typeof t)throw $r(227);i=t;break}case"class":if(null==s)throw $r(228);if("string"==typeof s)i=s;else{const t=s.name;if(!t)throw $r(229);if("string"!=typeof t)throw $r(227);i=t}}const n=null==s||"string"==typeof s?{name:i}:s;(e.metadata[Ar]??=y())[i]=Rr.create(i,n)}return arguments.length>1?(s={},void i(0,e)):b(t)?(s=t,i):(s=void 0===t?{}:t,i)}const Ar=ir("bindables"),xr=ar({name:Ar,keyFrom:t=>`${Ar}:${t}`,from(...t){const e={},s=Array.isArray;function i(t,s){e[t]=s instanceof Rr?s:Rr.create(t,!0===s?{}:s)}return t.forEach(function(t){s(t)?t.forEach(t=>b(t)?function(t){e[t]=Rr.create(t)}(t):i(t.name,t)):t instanceof Rr?e[t.name]=t:void 0!==t&&ur(t).forEach(e=>i(e,t[e]))}),e},getAll(t){const e=[],s=M(t);let i,n=s.length;for(;--n>=0;){i=s[n];const t=Zn(Ar,i);null!=t&&e.push(...Object.values(t))}return e},i(t,e){let s=Zn(Ar,e);null==s&&er(s=y(),e,Ar),s[t.name]=t}});class Rr{constructor(t,e,s,i,n,r){this.attribute=t,this.callback=e,this.mode=s,this.primary=i,this.name=n,this.set=r}static create(t,e={}){const s=e.mode??Qn;return new Rr(e.attribute??A(t),e.callback??`${t}Changed`,b(s)?De[s]??Gn:s,e.primary??!1,e.name??t,e.set??function(t={}){const e=t.type??null;if(null==e)return Lt;let s;switch(e){case Number:case Boolean:case String:case BigInt:s=e;break;default:{const t=e.coerce;s="function"==typeof t?t.bind(e):Or.for(e)??Lt;break}}return s===Lt?s:function(t,e){return function(s,i){return i?.enableCoercion?(e??!i?.coerceNullish)&&null==s?s:t(s,i):s}}(s,t.nullable)}(e))}}const Or={key:ir("coercer"),define(t,e){er(t[e].bind(t),t,Or.key)},for:t=>Zn(Or.key,t)},Mr=St.createInterface,Ir=V.singleton,Pr=V.aliasTo,Er=V.instance,Lr=(t,e,s)=>t.registerResolver(e,s),jr=(t,e,s,i="__au_static_resource__")=>{let n=Zn(i,t);return null==n&&t.$au?.type===e&&(n=s(t.$au,t),er(n,t,i)),n};class Br{constructor(t,e,s,i){this.Type=t,this.name=e,this.aliases=s,this.key=i}static create(t,e){let s,i;return b(t)?(s=t,i={name:s}):(s=t.name,i=t),new Br(e,O(Fr(e,"name"),s),R(Fr(e,"aliases"),i.aliases,e.aliases),qr.keyFrom(s))}register(t,e){const s=this.Type,i="string"==typeof e?Vr(e):this.key,n=this.aliases;t.has(i,!1)||t.register(t.has(s,!1)?null:Ir(s,s),Pr(s,i),...n.map(t=>Pr(s,Vr(t))))}}const Dr="binding-behavior",Nr=H(Dr),Fr=(t,e)=>Zn(ir(e),t),Vr=t=>`${Nr}:${t}`,qr=ar({name:Nr,keyFrom:Vr,isType:t=>m(t)&&(tr(Nr,t)||t.$au?.type===Dr),define(t,e){const s=Br.create(t,e),i=s.Type;return er(s,i,Nr,z),i},getDefinition(t){const e=Zn(Nr,t)??jr(t,Dr,Br.create);if(void 0===e)throw $r(151,t);return e},find(t,e){const s=t.find(Dr,e);return null==s?null:Zn(Nr,s)??jr(s,Dr,Br.create)??null},get:(t,e)=>t.get(Vt(Vr(e)))}),_r=new Map,Ur=t=>({type:Dr,name:t});class Wr{bind(t,e){_r.set(e,e.mode),e.mode=this.mode}unbind(t,e){e.mode=_r.get(e),_r.delete(e)}}(class extends Wr{get mode(){return Xn}}).$au=Ur("oneTime");(class extends Wr{get mode(){return Qn}}).$au=Ur("toView");(class extends Wr{get mode(){return Jn}}).$au=Ur("fromView");(class extends Wr{get mode(){return Yn}}).$au=Ur("twoWay");new WeakMap;const zr=Mr("ISignaler",t=>t.singleton(Hr));class Hr{constructor(){this.signals=y()}dispatchSignal(t){const e=this.signals[t];if(void 0===e)return;let s;for(s of e.keys())s.handleChange(void 0,void 0)}addSignalListener(t,e){(this.signals[t]??=new Set).add(e)}removeSignalListener(t,e){this.signals[t]?.delete(e)}}new WeakMap;const Kr=Mr("IAppTask");class Gr{constructor(t,e,s){this.c=void 0,this.slot=t,this.k=e,this.cb=s}register(t){return this.c=t.register(Er(Kr,this))}run(){const t=this.k,e=this.cb;return null===t?e():e(this.c.get(t))}}function Xr(t){return function(e,s){return m(s)?new Gr(t,e,s):new Gr(t,null,e)}}ar({creating:Xr("creating"),hydrating:Xr("hydrating"),hydrated:Xr("hydrated"),activating:Xr("activating"),activated:Xr("activated"),deactivating:Xr("deactivating"),deactivated:Xr("deactivated")});const Qr=jt;class Jr{}const Yr=(()=>{const t=new WeakMap;let e=!1;return new class{get hideProp(){return e}set hideProp(t){e=t}get(e,s){return t.get(e)?.[s]??null}set(s,i,n){const r=t.get(s)??(t.set(s,new Jr),t.get(s));if(i in r)throw new Error(`Node already associated with a controller, remove the ref "${i}" first before associating with another controller`);return e||(s.$au??=r),r[i]=n}}})(),Zr=Mr("INode"),th=(()=>{const t=new WeakMap;return ar({add(e,s){let i=t.get(e);null==i&&t.set(e,i=[]),i.push(s)},getDefinitions:e=>t.get(e)??Pt})})();function eh(t){return function(e,s){return s.addInitializer(function(){oh(t,this)}),e}}class sh{get type(){return"custom-attribute"}constructor(t,e,s,i,n,r,h,o,a,c,l){this.Type=t,this.name=e,this.aliases=s,this.key=i,this.defaultBindingMode=n,this.isTemplateController=r,this.bindables=h,this.noMultiBindings=o,this.watches=a,this.dependencies=c,this.containerStrategy=l}static create(t,e){let s,i;b(t)?(s=t,i={name:s}):(s=t.name,i=t);const n=O(hh(e,"defaultBindingMode"),i.defaultBindingMode,e.defaultBindingMode,Qn);for(const t of Object.values(xr.from(i.bindables)))xr.i(t,e);return new sh(e,O(hh(e,"name"),s),R(hh(e,"aliases"),i.aliases,e.aliases),rh(s),b(n)?De[n]??Gn:n,O(hh(e,"isTemplateController"),i.isTemplateController,e.isTemplateController,!1),xr.from(...xr.getAll(e),hh(e,"bindables"),e.bindables,i.bindables),O(hh(e,"noMultiBindings"),i.noMultiBindings,e.noMultiBindings,!1),R(th.getDefinitions(e),e.watches),R(hh(e,"dependencies"),i.dependencies,e.dependencies),O(hh(e,"containerStrategy"),i.containerStrategy,e.containerStrategy,"reuse"))}register(t,e){const s=this.Type,i="string"==typeof e?rh(e):this.key,n=this.aliases;t.has(i,!1)?sh.warnDuplicate&&t.get(Kt).warn($r(154,this.name)):t.register(t.has(s,!1)?null:Ir(s,s),Pr(s,i),...n.map(t=>Pr(s,rh(t))))}toString(){return`au:ca:${this.name}`}}sh.warnDuplicate=!0;const ih="custom-attribute",nh=H(ih),rh=t=>`${nh}:${t}`,hh=(t,e)=>Zn(ir(e),t),oh=(t,e)=>{const s=sh.create(t,e),i=s.Type;return er(s,i,nh,z),i},ah=t=>{const e=Zn(nh,t)??jr(t,ih,sh.create);if(void 0===e)throw $r(759,t);return e},ch=Mr("ILifecycleHooks");class lh{constructor(t,e){this.definition=t,this.instance=e}}class uh{constructor(t,e){this.Type=t,this.propertyNames=e}static create(t,e){const s=new Set;let i=e.prototype;for(;i!==hr;){for(const t of lr(i))"constructor"===t||t.startsWith("_")||s.add(t);i=Object.getPrototypeOf(i)}return new uh(e,s)}}const dh=(()=>{const t=new WeakMap,e=new WeakMap;return ar({define(t,s){const i=uh.create(t,s),n=i.Type;return e.set(n,i),{register(t){Ir(ch,n).register(t)}}},resolve(s){let i=t.get(s);if(void 0===i){t.set(s,i=new fh);const n=s.root,r=n===s?s.getAll(ch):s.has(ch,!1)?n.getAll(ch).concat(s.getAll(ch)):n.getAll(ch);let h,o,a,c,l;for(h of r)for(c of(o=e.get(h.constructor),a=new lh(o,h),o.propertyNames))l=i[c],void 0===l?i[c]=[a]:l.push(a)}return i}})})();class fh{}class ph{constructor(t,e,s,i){this.Type=t,this.name=e,this.aliases=s,this.key=i}static create(t,e){let s,i;return b(t)?(s=t,i={name:s}):(s=t.name,i=t),new ph(e,O(mh(e,"name"),s),R(mh(e,"aliases"),i.aliases,e.aliases),yh.keyFrom(s))}register(t,e){const s=this.Type,i="string"==typeof e?bh(e):this.key,n=this.aliases;t.has(i,!1)||t.register(t.has(s,!1)?null:Ir(s,s),Pr(s,i),...n.map(t=>Pr(s,bh(t))))}}const gh="value-converter",vh=H(gh),mh=(t,e)=>Zn(ir(e),t),bh=t=>`${vh}:${t}`,yh=ar({name:vh,keyFrom:bh,isType:t=>m(t)&&(tr(vh,t)||t.$au?.type===gh),define(t,e){const s=ph.create(t,e),i=s.Type;return er(s,i,vh,z),i},getDefinition(t){const e=Zn(vh,t)??jr(t,gh,ph.create);if(void 0===e)throw $r(152,t);return e},annotate(t,e,s){er(s,t,ir(e))},getAnnotation:mh,find(t,e){const s=t.find(gh,e);return null==s?null:Zn(vh,s)??jr(s,gh,ph.create)??null},get:(t,e)=>t.get(Vt(bh(e)))});class wh{constructor(t,e){this.v=void 0,this.b=t,this.A=e}flush(){this.b.isBound&&this.b.updateSource(this.v)}handleChange(t,e){const s=this.b;t!==Ss(s.ast,s.s,s,null)&&(this.v=t,this.A.add(this))}}const kh=(()=>{function t(t){this.s=t}return e=>{gr(e.prototype,"useScope",t)}})(),Ch=(()=>{class t{}const e=new WeakMap,s=new WeakMap,i=new WeakMap;function n(t){return this.l.get(t)}function r(e,i){let n=s.get(e);return null==n&&s.set(e,n=new t),n[i]??=qr.get(e.l,i)}function h(t,e,s){const n=r(this,t);if(null==n)throw $r(101,t);let h=i.get(this);if(null==h&&i.set(this,h={}),h[t])throw $r(102,t);n.bind?.(e,this,...s)}function o(t,e){const s=r(this,t),n=i.get(this);s?.unbind?.(e,this),null!=n&&(n[t]=!1)}function a(s,i){let n=e.get(s);return null==n&&e.set(s,n=new t),n[i]??=yh.get(s.l,i)}function c(t){const e=a(this,t);if(null==e)throw $r(103,t);const s=e.signals;if(null!=s){const t=this.l.get(zr),e=s.length;let i=0;for(;i<e;++i)t.addSignalListener(s[i],this)}}function l(t){const e=a(this,t);if(void 0===e?.signals)return;const s=this.l.get(zr);let i=0;for(;i<e.signals.length;++i)s.removeSignalListener(e.signals[i],this)}function u(t,e,s,i){const n=a(this,t);if(null==n)throw $r(103,t);const r=!0===n.withContext;let h=null;switch(r&&(h={source:this.l.get(Mo).controller.viewModel,binding:this}),e){case"toView":return"toView"in n?r?n.toView(s,h,...i):n.toView(s,...i):s;case"fromView":return"fromView"in n?r?n.fromView?.(s,h,...i):n.fromView?.(s,...i):s}}return t=>{const e=t.prototype;gr(e,"get",n),gr(e,"bindBehavior",h),gr(e,"unbindBehavior",o),gr(e,"bindConverter",c),gr(e,"unbindConverter",l),gr(e,"useConverter",u)}})(),Th=Mr("IFlushQueue",t=>t.singleton($h));class $h{constructor(){this.R=!1,this.T=new Set}get count(){return this.T.size}add(t){if(this.T.add(t),!this.R){this.R=!0;try{this.T.forEach(Sh)}finally{this.R=!1}}}clear(){this.T.clear(),this.R=!1}}const Sh=function(t,e,s){s.delete(t),t.flush()},Ah=(()=>{const t=new WeakSet;return(e,s)=>{gr(e.prototype,"limit",function(e){if(t.has(this))throw $r(9996);t.add(this);const i=s(this,e),n=e.signals,r=n.length>0?this.get(zr):null,h=this[i],o=(...t)=>h.call(this,...t),a="debounce"===e.type?((t,e,s)=>{let i,n,r,h=!1;const o=()=>e(r),a=e=>{r=e,s.isBound?(n=i,i=zs(o,{delay:t.delay}),n?.cancel()):o()},c=a.dispose=()=>{n?.cancel(),i?.cancel(),n=i=void 0};return a.flush=()=>{h=i?.status===yr,c(),h&&o()},a})(e,o,this):((t,e,s)=>{let i,n,r,h=0,o=0,a=!1;const c=()=>t.now(),l=()=>e(r),u=e=>{r=e,s.isBound?(o=c()-h,n=i,o>t.delay?(h=c(),l()):i=zs(()=>{h=c(),l()},{delay:t.delay-o}),n?.cancel()):l()},d=u.dispose=()=>{n?.cancel(),i?.cancel(),n=i=void 0};return u.flush=()=>{a=i?.status===yr,d(),a&&l()},u})(e,o,this),c=r?{handleChange:a.flush}:null;return this[i]=a,r&&n.forEach(t=>vr(r,t,c)),{dispose:()=>{r&&n.forEach(t=>mr(r,t,c)),t.delete(this),a.dispose(),delete this[i]}}})}})(),xh=((t=new WeakSet)=>e=>function(){t.has(this)||(t.add(this),e.call(this))})();class Rh{constructor(t,e,s,i,n,r,h,o,a){this.targetAttribute=r,this.targetProperty=h,this.mode=o,this.strict=a,this.isBound=!1,this.s=void 0,this.L=!1,this.v=void 0,this.boundFn=!1,this.M=!1,this.l=e,this.ast=i,this.P=t,this.target=n,this.oL=s,(this.M=h.indexOf(" ")>-1)&&!Rh.q.has(h)&&Rh.q.set(h,h.split(" "))}updateTarget(t){const e=this.target,s=this.targetAttribute,i=this.targetProperty;switch(s){case"class":if(this.M){const s=!!t;for(const t of Rh.q.get(i))e.classList.toggle(t,s)}else e.classList.toggle(i,!!t);break;case"style":{let s="",n=rr(t);b(n)&&n.includes("!important")&&(s="important",n=n.replace("!important","")),e.style.setProperty(i,n,s);break}default:null==t?e.removeAttribute(s):e.setAttribute(s,rr(t))}}handleChange(){this.isBound&&(this.L||(this.L=!0,Ws(()=>{if(this.L=!1,!this.isBound)return;this.obs.version++;const t=Ss(this.ast,this.s,this,(this.mode&Qn)>0?this:null);this.obs.clear(),t!==this.v&&(this.v=t,this.updateTarget(t))})))}handleCollectionChange(){this.handleChange()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,As(this.ast,t,this),this.mode&(Qn|Xn)&&this.updateTarget(this.v=Ss(this.ast,t,this,(this.mode&Qn)>0?this:null)),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,xs(this.ast,this.s,this),this.s=void 0,this.v=void 0,this.obs.clearAll())}}Rh.mix=xh(()=>{kh(Rh),Ah(Rh,()=>"updateTarget"),ai(Rh,null),Ch(Rh)}),Rh.q=new Map;class Oh{constructor(t,e,s,i,n,r,h){this.ast=t,this.target=e,this.targetProperty=s,this.strict=r,this.owner=h,this.mode=Qn,this.isBound=!1,this.v="",this.boundFn=!1,this.D=!1,this.l=i,this.oL=n}updateTarget(){this.owner._()}handleChange(){this.isBound&&(this.D=!0,this.updateTarget())}handleCollectionChange(){this.isBound&&(this.D=!0,this.updateTarget())}V(){if(!this.D)return this.v;this.obs.version++;const t=Ss(this.ast,this.s,this,(this.mode&Qn)>0?this:null);return this.obs.clear(),this.v=t,d(t)&&this.observeCollection(t),this.D=!1,this.v}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,As(this.ast,t,this),this.v=Ss(this.ast,this.s,this,(this.mode&Qn)>0?this:null),d(this.v)&&this.observeCollection(this.v),this.D=!1,this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,this.v=void 0,this.D=!1,xs(this.ast,this.s,this),this.s=void 0,this.obs.clearAll())}}Oh.mix=xh(()=>{kh(Oh),Ah(Oh,()=>"updateTarget"),ai(Oh,null),Ch(Oh)});class Mh{constructor(t,e,s,i,n,r,h){this.p=i,this.ast=n,this.target=r,this.strict=h,this.isBound=!1,this.mode=Qn,this.L=!1,this.v="",this.F=!1,this.boundFn=!1,this.l=e,this.P=t,this.oL=s}updateTarget(t){const e=this.target,s=this.v;this.v=t,this.F&&(s.parentNode?.removeChild(s),this.F=!1),t instanceof this.p.Node&&(e.parentNode?.insertBefore(t,e),t="",this.F=!0),e.textContent=rr(t??"")}handleChange(){this.isBound&&(this.L||(this.L=!0,Ws(()=>{if(this.L=!1,!this.isBound)return;this.obs.version++;const t=Ss(this.ast,this.s,this,(this.mode&Qn)>0?this:null);this.obs.clear(),t!==this.v&&this.updateTarget(t)})))}handleCollectionChange(){this.isBound&&(this.L||(this.L=!0,Ws(()=>{if(this.L=!1,!this.isBound)return;this.obs.version++;const t=this.v=Ss(this.ast,this.s,this,(this.mode&Qn)>0?this:null);this.obs.clear(),d(t)&&this.observeCollection(t),this.updateTarget(t)})))}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,As(this.ast,t,this);const e=this.v=Ss(this.ast,this.s,this,(this.mode&Qn)>0?this:null);d(e)&&this.observeCollection(e),this.updateTarget(e),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,xs(this.ast,this.s,this),this.F&&this.v.parentNode?.removeChild(this.v),this.s=void 0,this.obs.clearAll())}}Mh.mix=xh(()=>{kh(Mh),Ah(Mh,()=>"updateTarget"),ai(Mh,null),Ch(Mh)});class Ih{constructor(t,e,s,i,n,r){this.ast=s,this.targetProperty=i,this.isBound=!1,this.s=void 0,this.target=null,this.boundFn=!1,this.l=t,this.oL=e,this.strict=r,this.H=n}updateTarget(){this.target[this.targetProperty]=this.v}handleChange(){this.isBound&&(this.obs.version++,this.v=Ss(this.ast,this.s,this,this),this.obs.clear(),this.updateTarget())}handleCollectionChange(){this.handleChange()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,this.target=this.H?t.bindingContext:t.overrideContext,As(this.ast,t,this),this.v=Ss(this.ast,this.s,this,this),this.updateTarget(),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,xs(this.ast,this.s,this),this.s=void 0,this.obs.clearAll())}}Ih.mix=xh(()=>{kh(Ih),Ah(Ih,()=>"updateTarget"),ai(Ih,null),Ch(Ih)});class Ph{constructor(t,e,s,i,n,r,h,o){this.ast=i,this.target=n,this.targetProperty=r,this.mode=h,this.strict=o,this.isBound=!1,this.s=void 0,this.I=void 0,this.L=!1,this.O=null,this.boundFn=!1,this.l=e,this.P=t,this.oL=s}updateTarget(t){this.I.setValue(t,this.target,this.targetProperty)}updateSource(t){$s(this.ast,this.s,this,null,t)}handleChange(){if(this.isBound)if(this.P.state!==$o&&(this.I.type&Tr)>0){if(this.L)return;this.L=!0,Ws(()=>{this.L=!1,this.isBound&&this.$()})}else this.$()}$(){this.obs.version++;const t=Ss(this.ast,this.s,this,(this.mode&Qn)>0?this:null);this.obs.clear(),this.updateTarget(t)}handleCollectionChange(){this.handleChange()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,As(this.ast,t,this);const e=this.oL,s=this.mode;let i=this.I;i||(i=s&Jn?e.getObserver(this.target,this.targetProperty):e.getAccessor(this.target,this.targetProperty),this.I=i);const n=(s&Qn)>0;s&(Qn|Xn)&&this.updateTarget(Ss(this.ast,this.s,this,n?this:null)),s&Jn&&(i.subscribe(this.O??=new wh(this,this.l.get(Th))),n||this.updateSource(i.getValue(this.target,this.targetProperty))),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,this.O&&(this.I.unsubscribe(this.O),this.O=null),xs(this.ast,this.s,this),this.s=void 0,this.obs.clearAll())}useTargetObserver(t){this.I?.unsubscribe(this),(this.I=t).subscribe(this)}useTargetSubscriber(t){if(null!=this.O)throw $r(9995);this.O=t}}Ph.mix=xh(()=>{kh(Ph),Ah(Ph,t=>t.mode&Jn?"updateSource":"updateTarget"),ai(Ph,null),Ch(Ph)});class Eh{constructor(t,e,s,i,n){this.oL=e,this.ast=s,this.target=i,this.strict=n,this.isBound=!1,this.s=void 0,this.l=t}updateSource(){this.isBound?(this.obs.version++,$s(this.ast,this.s,this,this,this.target),this.obs.clear()):$s(this.ast,this.s,this,null,null)}handleChange(){this.isBound&&this.updateSource()}handleCollectionChange(){this.isBound&&this.updateSource()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,As(this.ast,t,this),this.isBound=!0,this.updateSource()}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll(),Ss(this.ast,this.s,this,null)===this.target&&this.updateSource(),xs(this.ast,this.s,this),this.s=void 0)}}Eh.mix=xh(()=>{ai(Eh,null),Ah(Eh,()=>"updateSource"),kh(Eh),Ch(Eh)});class Lh{constructor(t,e,s,i,n,r,h){this.ast=e,this.target=s,this.targetEvent=i,this.strict=h,this.isBound=!1,this.self=!1,this.boundFn=!0,this.N=null,this.l=t,this.W=n,this.N=r}callSource(t){const e=this.s.overrideContext;e.$event=t;let s=Ss(this.ast,this.s,this,null);delete e.$event,m(s)&&(s=s(t)),!0!==s&&this.W.prevent&&t.preventDefault()}handleEvent(t){if((!this.self||this.target===t.composedPath()[0])&&!1!==this.N?.(t))try{this.callSource(t)}catch(e){this.W.onError(t,e)}}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,As(this.ast,t,this),this.target.addEventListener(this.targetEvent,this,this.W),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,xs(this.ast,this.s,this),this.s=void 0,this.target.removeEventListener(this.targetEvent,this,this.W))}}Lh.mix=xh(function(){kh(Lh),Ah(Lh,()=>"callSource"),Ch(Lh)});const jh=Mr("IViewFactory");class Bh{constructor(t,e){this.isCaching=!1,this.X=null,this.K=-1,this.name=e.name,this.container=t,this.def=e}setCacheSize(t,e){t&&("*"===t?t=Bh.maxCacheSize:b(t)&&(t=parseInt(t,10)),-1!==this.K&&e||(this.K=t)),this.K>0?this.X=[]:this.X=null,this.isCaching=this.K>0}canReturnToCache(t){return null!=this.X&&this.X.length<this.K}tryReturnToCache(t){return!!this.canReturnToCache(t)&&(this.X.push(t),!0)}create(t){const e=this.X;let s;return null!=e&&e.length>0?(s=e.pop(),s):(s=ho.$view(this,t),s)}}Bh.maxCacheSize=65535;const Dh=(t,e)=>new t.ownerDocument.defaultView.MutationObserver(e),Nh=t=>1===t.nodeType,Fh="default";const Vh=Mr("IAuSlotWatcher");class qh{constructor(t,e,s,i,n,r,h){this.target=e,this.targetKeys=s,this.ast=i,this.strict=h,this.isBound=!1,this.s=void 0,this.boundFn=!1,this.st={},this.nt=new WeakMap,this.P=t,this.oL=n,this.l=r}updateTarget(){this.obs.version++;const t=Ss(this.ast,this.s,this,this);this.obs.clear(),this.rt(t,!0)}handleChange(){this.isBound&&this.updateTarget()}handleCollectionChange(){this.isBound&&this.updateTarget()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.isBound=!0,this.s=t,As(this.ast,t,this);const e=Ss(this.ast,t,this,this);this.rt(e,!1)}unbind(){if(!this.isBound)return;let t;for(t in this.isBound=!1,xs(this.ast,this.s,this),this.s=void 0,this.st)this.st[t].unbind()}rt(t,e){let s,i;if(!g(t)){for(s in this.st)this.st[s]?.unbind();return}let n=this.nt.get(t);for(s of(null==n&&this.nt.set(t,n=Cs.fromParent(this.s,t)),this.targetKeys))i=this.st[s],s in t?(null==i&&(i=this.st[s]=new Ph(this.P,this.l,this.oL,qh.ot[s]??=new ae(s,0),this.target,s,De.toView,this.strict)),i.bind(n)):e&&i?.unbind()}}qh.mix=xh(()=>{kh(qh),Ah(qh,()=>"updateTarget"),ai(qh,null),Ch(qh)}),qh.ot={};const _h=(t,e,s,i)=>{t.addEventListener(e,s,i)},Uh=(t,e,s,i)=>{t.removeEventListener(e,s,i)},Wh=t=>{let e;const s=t.prototype;gr(s,"subscribe",function(t){if(this.subs.add(t)&&1===this.subs.count){for(e of this.cf.events)_h(this.lt,e,this);this.ht=!0,this.ct?.()}}),gr(s,"unsubscribe",function(t){if(this.subs.remove(t)&&0===this.subs.count){for(e of this.cf.events)Uh(this.lt,e,this);this.ht=!1,this.ut?.()}}),gr(s,"useConfig",function(t){if(this.cf=t,this.ht){for(e of this.cf.events)Uh(this.lt,e,this);for(e of this.cf.events)_h(this.lt,e,this)}})},zh=t=>{gr(t.prototype,"subscribe",Lt),gr(t.prototype,"unsubscribe",Lt)};class Hh{get doNotCache(){return!0}constructor(t,e={}){this.obj=t,this.mapping=e,this.type=Cr|Tr,this.v="",this.ft={},this.dt=0}getValue(){return this.v}setValue(t){t!==this.v&&(this.v=t,this.gt())}gt(){const t=this.ft,e=++this.dt,s=this.obj.classList,i=Kh(this.v),n=i.length;let r,h=0;if(n>0)for(;h<n;h++)r=i[h],r=this.mapping[r]||r,0!==r.length&&(t[r]=this.dt,s.add(r));if(1!==e)for(r in t)r=this.mapping[r]||r,t[r]!==e&&s.remove(r)}}function Kh(t){if(b(t))return Gh(t);if("object"!=typeof t)return Pt;if(d(t)){const e=t.length;if(e>0){const s=[];let i=0;for(;e>i;++i)s.push(...Kh(t[i]));return s}return Pt}const e=[];let s;for(s in t)Boolean(t[s])&&(s.includes(" ")?e.push(...Gh(s)):e.push(s));return e}function Gh(t){const e=t.match(/\S+/g);return null===e?Pt:e}zh(Hh);const Xh=Mr("IRenderer");Mr("IListenerBindingOptions",t=>t.singleton(class{constructor(){this.p=lt(Qr),this.prevent=!1,this.onError=(t,e)=>{const s=new this.p.CustomEvent("au-event-error",{cancelable:!0,detail:{event:t,error:e}});if(this.p.window.dispatchEvent(s),!s.defaultPrevented)throw e}}}));new class{get name(){return"IRenderLocation"}get $isResolver(){return!0}constructor(t){this.l=t}resolve(){return this.l}}(null),new class{get $isResolver(){return!0}constructor(t){this.f=t}resolve(){const t=this.f;if(null===t)throw $r(755);if(!b(t.name)||0===t.name.length)throw $r(756);return t}}(null),new Mt("ISlotsInfo",new class{constructor(t){this.projectedSlots=t}}(Pt));const Qh=Mr("IRendering",t=>t.singleton(Jh));class Jh{get renderers(){return this.wt??=this.bt.getAll(Xh,!1).reduce((t,e)=>(t[e.target]??=e,t),y())}constructor(){this.kt=new WeakMap,this.Ct=new WeakMap;const t=this.bt=lt(At).root,e=this.p=t.get(Qr);this.ep=t.get(ve),this.oL=t.get(mn),this.Bt=e.document.createElement("au-m"),this.St=new Xo(e,e.document.createDocumentFragment())}compile(t,e){const s=e.get(Ne),i=this.kt;let n=i.get(t);return null==n&&i.set(t,n=Jo.create(t.needsCompile?s.compile(t,e):t)),n}getViewFactory(t,e){return new Bh(e,Jo.getOrCreate(t))}createNodes(t){if(!0===t.enhance)return new Xo(this.p,this.At(t.template));let e,s=!1;const i=this.Ct,n=this.p,r=n.document;if(i.has(t))e=i.get(t);else{const h=t.template;let o;null==h?e=null:h instanceof n.Node?"TEMPLATE"===h.nodeName?(e=h.content,s=!0):(e=r.createDocumentFragment()).appendChild(h.cloneNode(!0)):(o=r.createElement("template"),b(h)&&(o.innerHTML=h),e=o.content,s=!0),this.At(e),i.set(t,e)}return null==e?this.St:new Xo(this.p,s?r.importNode(e,!0):r.adoptNode(e.cloneNode(!0)))}render(t,e,s,i){const n=s.instructions,r=this.renderers,h=e.length;let o,a,c,l=0,u=0,d=n.length;if(h!==d)throw $r(757,h,d);if(null!=i&&(o=s.surrogates,(d=o.length)>0))for(u=0;d>u;)a=o[u],r[a.type].render(t,i,a,this.p,this.ep,this.oL),++u;if(h>0)for(;h>l;){for(o=n[l],c=e[l],u=0,d=o.length;d>u;)a=o[u],r[a.type].render(t,c,a,this.p,this.ep,this.oL),++u;++l}}At(t){if(null==t)return null;const e=this.p.document.createTreeWalker(t,128);let s;for(;null!=(s=e.nextNode());)"au*"===s.nodeValue&&s.parentNode.replaceChild(e.currentNode=this.Bt.cloneNode(),s);return t}}const Yh=Mr("IShadowDOMStyles"),Zh=Mr("IShadowDOMGlobalStyles",t=>t.instance({applyTo:Lt})),{enter:to,exit:eo}=gi,{wrap:so,unwrap:io}=cn;class no{get value(){return this.v}constructor(t,e,s,i,n="async"){this.obj=t,this.$get=s,this.isBound=!1,this.L=!1,this.Rt=0,this.v=void 0,this.cb=i,this.oL=e,this.Tt=n}handleChange(){this.run()}handleCollectionChange(){this.run()}bind(){this.isBound||(this.compute(),this.isBound=!0)}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll())}run(){this.isBound&&("sync"!==this.Tt?this.L||(this.L=!0,Ws(()=>{this.L=!1,this.Et()})):this.Et())}Et(){if(!this.isBound)return;const t=this.obj,e=this.v;if(++this.Rt>100)throw new Error("AURXXXX: Possible infinitely recursive side-effect detected in a watcher.");const s=this.compute();w(s,e)||this.cb.call(t,s,e,t),this.L||(this.Rt=0)}compute(){this.obs.version++;try{return to(this),this.v=io(this.$get.call(void 0,so(this.obj),this))}finally{this.obs.clear(),eo(this)}}}ai(no,null);class ro{get value(){return this.v}constructor(t,e,s,i,n,r="async"){this.scope=t,this.l=e,this.oL=s,this.isBound=!1,this.L=!1,this.boundFn=!1,this.obj=t.bindingContext,this.Lt=i,this.cb=n,this.Tt=r}handleChange(){this.run()}handleCollectionChange(){this.run()}run(){this.isBound&&("sync"!==this.Tt?this.L||(this.L=!0,Ws(()=>{this.L=!1,this.Et()})):this.Et())}Et(){if(!this.isBound)return;const t=this.Lt,e=this.obj,s=this.v;this.obs.version++;const i=Ss(t,this.scope,this,this);this.obs.clear(),w(i,s)||(this.v=i,this.cb.call(e,i,s,e))}bind(){this.isBound||(this.obs.version++,this.v=Ss(this.Lt,this.scope,this,this),this.obs.clear(),this.isBound=!0)}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll(),this.v=void 0)}}ai(ro,null),Ch(ro);class ho{get lifecycleHooks(){return this.Mt}get isActive(){return(this.state&($o|So))>0&&0===(this.state&Ao)}get name(){if(null===this.parent)switch(this.vmKind){case ko:return`[${this.definition.name}]`;case wo:return this.definition.name;case Co:return this.viewFactory.name}switch(this.vmKind){case ko:return`${this.parent.name}>[${this.definition.name}]`;case wo:return`${this.parent.name}>${this.definition.name}`;case Co:return this.viewFactory.name===this.parent.definition?.name?`${this.parent.name}[view]`:`${this.parent.name}[view:${this.viewFactory.name}]`}}get viewModel(){return this.Dt}set viewModel(t){this.Dt=t,this.Pt=null==t||this.vmKind===Co?bo.none:new bo(t)}get strict(){return this.definition?.strict}constructor(t,e,s,i,n,r,h){this.container=t,this.vmKind=e,this.definition=s,this.viewFactory=i,this.host=r,this.head=null,this.tail=null,this.next=null,this.parent=null,this.bindings=null,this.children=null,this.hasLockedScope=!1,this.scope=null,this.isBound=!1,this.qt=!1,this.mountTarget=ao,this.shadowRoot=null,this.nodes=null,this.location=null,this.Mt=null,this.state=To,this.It=!1,this.$initiator=null,this.$resolve=void 0,this.$reject=void 0,this.$promise=void 0,this._t=0,this.Vt=0,this.Ft=0,this.Dt=n,this.Pt=e===Co?bo.none:new bo(n),this.location=h,this.r=t.root.get(Qh)}static getCached(t){return oo.get(t)}static getCachedOrThrow(t){const e=ho.getCached(t);if(void 0===e)throw $r(500,t);return e}static $el(t,e,s,i,n=void 0,r=null){if(oo.has(e))return oo.get(e);n=n??aa(e.constructor),Lr(t,n.Type,new Mt(n.key,e,n.Type));const h=new ho(t,wo,n,null,e,s,r),o=t.get(Nt(Mo));return n.dependencies.length>0&&t.register(...n.dependencies),Lr(t,Mo,new Mt("IHydrationContext",new Io(h,i,o))),oo.set(e,h),null!=i&&!1===i.hydrate||h.hE(i),h}static $attr(t,e,s,i){if(oo.has(e))return oo.get(e);i=i??ah(e.constructor),Lr(t,i.Type,new Mt(i.key,e,i.Type));const n=new ho(t,ko,i,null,e,s,null);return i.dependencies.length>0&&t.register(...i.dependencies),oo.set(e,n),n.Ht(),n}static $view(t,e=void 0){const s=new ho(t.container,Co,null,t,null,null,null);return s.parent=e??null,s.Ot(),s}hE(t){const e=this.container,s=this.Dt,i=this.definition;this.scope=Cs.create(s,null,!0),i.watches.length>0&&mo(this,e,i,s),po(this,i,s),this.Mt=dh.resolve(e),e.register(i.Type),null!==i.injectable&&Lr(e,i.injectable,new Mt("definition.injectable",s)),null!=t&&!1===t.hydrate||(this.hS(),this.hC())}hS(){null!=this.Mt.hydrating&&this.Mt.hydrating.forEach(Lo,this),this.Pt.$t&&this.Dt.hydrating(this);const t=this.definition,e=this.Nt=this.r.compile(t,this.container),s=e.shadowOptions,i=e.hasSlots,n=e.containerless,r=this.host;let h=this.location;if(n&&null==h&&(h=this.location=Ko(r)),zo(r,na,this),zo(r,t.key,this),null!==s||i){if(null!=h)throw $r(501);zo(this.shadowRoot=r.attachShadow(s??yo),na,this),zo(this.shadowRoot,t.key,this),this.mountTarget=lo}else null!=h?(r!==h&&(zo(h,na,this),zo(h,t.key,this)),this.mountTarget=uo):this.mountTarget=co;this.Dt.$controller=this,this.nodes=this.r.createNodes(e),void 0!==this.Mt.hydrated&&this.Mt.hydrated.forEach(jo,this),this.Pt.Wt&&this.Dt.hydrated(this)}hC(){this.r.render(this,this.nodes.findTargets(),this.Nt,this.host),void 0!==this.Mt.created&&this.Mt.created.forEach(Eo,this),this.Pt.jt&&this.Dt.created(this)}Ht(){const t=this.definition,e=this.Dt;t.watches.length>0&&mo(this,this.container,t,e),po(this,t,e),e.$controller=this,this.Mt=dh.resolve(this.container),void 0!==this.Mt.created&&this.Mt.created.forEach(Eo,this),this.Pt.jt&&this.Dt.created(this)}Ot(){this.Nt=this.r.compile(this.viewFactory.def,this.container),this.r.render(this,(this.nodes=this.r.createNodes(this.Nt)).findTargets(),this.Nt,void 0)}activate(t,e,s){switch(this.state){case To:case xo:if(null!==e&&!e.isActive)return;this.state=$o;break;case So:return;case Oo:throw $r(502,this.name);default:throw $r(503,this.name,function(t){const e=[];return(t&$o)===$o&&e.push("activating"),(t&So)===So&&e.push("activated"),(t&Ao)===Ao&&e.push("deactivating"),(t&xo)===xo&&e.push("deactivated"),(t&Ro)===Ro&&e.push("released"),(t&Oo)===Oo&&e.push("disposed"),0===e.length?"none":e.join("|")}(this.state))}switch(this.parent=e,this.vmKind){case wo:this.scope.parent=s??null;break;case ko:this.scope=s??null;break;case Co:if(null==s)throw $r(504,this.name);this.hasLockedScope||(this.scope=s)}let i;return this.$initiator=t,this.zt(),this.vmKind!==Co&&null!=this.Mt.binding&&(i=L(...this.Mt.binding.map(Bo,this))),this.Pt.Ut&&(i=L(i,this.Dt.binding(this.$initiator,this.parent))),u(i)?(this.Gt(),i.then(()=>{this.qt=!0,this.state!==$o?this.Xt():this.bind()}).catch(t=>{this.Kt(t)}),this.$promise):(this.qt=!0,this.bind(),this.$promise)}bind(){let t,e=0,s=0;if(null!==this.bindings)for(e=0,s=this.bindings.length;s>e;)this.bindings[e].bind(this.scope),++e;if(this.vmKind!==Co&&null!=this.Mt.bound&&(t=L(...this.Mt.bound.map(Do,this))),this.Pt.Qt&&(t=L(t,this.Dt.bound(this.$initiator,this.parent))),u(t))return this.Gt(),void t.then(()=>{this.isBound=!0,this.state!==$o?this.Xt():this.Yt()}).catch(t=>{this.Kt(t)});this.isBound=!0,this.Yt()}Zt(...t){switch(this.mountTarget){case co:this.host.append(...t);break;case lo:this.shadowRoot.append(...t);break;case uo:{let e=0;for(;e<t.length;++e)this.location.parentNode.insertBefore(t[e],this.location);break}}}Yt(){switch(this.mountTarget){case co:this.nodes.appendTo(this.host,null!=this.definition&&this.definition.enhance);break;case lo:{const t=this.container;(t.has(Yh,!1)?t.get(Yh):t.get(Zh)).applyTo(this.shadowRoot),this.nodes.appendTo(this.shadowRoot);break}case uo:this.nodes.insertBefore(this.location)}let t,e=0;if(this.vmKind!==Co&&null!=this.Mt.attaching&&(t=L(...this.Mt.attaching.map(No,this))),this.Pt.Jt&&(t=L(t,this.Dt.attaching(this.$initiator,this.parent))),u(t)&&(this.Gt(),this.zt(),t.then(()=>{this.Xt()}).catch(t=>{this.Kt(t)})),null!==this.children)for(;e<this.children.length;++e)this.children[e].activate(this.$initiator,this,this.scope);this.Xt()}deactivate(t,e){let s;switch(this.state&~Ro){case So:this.state=Ao;break;case $o:this.state=Ao,s=this.$promise?.catch(Lt);break;case To:case xo:case Oo:case xo|Oo:return;default:throw $r(505,this.name,this.state)}this.$initiator=t,t===this&&this.te();let i,n=0;if(null!==this.children)for(n=0;n<this.children.length;++n)this.children[n].deactivate(t,this);return E(s,()=>{if(this.isBound&&(this.vmKind!==Co&&null!=this.Mt.detaching&&(i=L(...this.Mt.detaching.map(Vo,this))),this.Pt.ee&&(i=L(i,this.Dt.detaching(this.$initiator,this.parent)))),u(i)&&(this.Gt(),t.te(),i.then(()=>{t.ie()}).catch(e=>{t.Kt(e)})),null===t.head?t.head=this:t.tail.next=this,t.tail=this,t===this)return this.ie(),this.$promise})}removeNodes(){switch(this.vmKind){case wo:case Co:this.nodes.remove(),this.nodes.unlink()}}unbind(){let t=0;if(null!==this.bindings)for(;t<this.bindings.length;++t)this.bindings[t].unbind();switch(this.parent=null,this.vmKind){case ko:this.scope=null;break;case Co:this.hasLockedScope||(this.scope=null),(this.state&Ro)!==Ro||this.viewFactory.tryReturnToCache(this)||this.$initiator!==this||this.dispose();break;case wo:this.scope.parent=null}this.state=xo,this.$initiator=null,this.se()}Gt(){void 0===this.$promise&&(this.$promise=new Promise((t,e)=>{this.$resolve=t,this.$reject=e}),this.$initiator!==this&&this.parent.Gt())}se(){void 0!==this.$promise&&(_o=this.$resolve,this.$resolve=this.$reject=this.$promise=void 0,_o(),_o=void 0)}Kt(t){void 0!==this.$promise&&(Uo=this.$reject,this.$resolve=this.$reject=this.$promise=void 0,Uo(t),Uo=void 0),this.$initiator!==this&&this.parent.Kt(t)}zt(){++this._t,this.$initiator!==this&&this.parent.zt()}Xt(){if(this.state!==$o)return--this._t,this.se(),void(this.$initiator!==this&&this.parent.Xt());if(0===--this._t){if(this.vmKind!==Co&&null!=this.Mt.attached&&(Wo=L(...this.Mt.attached.map(Fo,this))),this.Pt.ne&&(Wo=L(Wo,this.Dt.attached(this.$initiator))),u(Wo))return this.Gt(),Wo.then(()=>{this.state=So,this.se(),this.$initiator!==this&&this.parent.Xt()}).catch(t=>{this.Kt(t)}),void(Wo=void 0);Wo=void 0,this.state=So,this.se()}this.$initiator!==this&&this.parent.Xt()}te(){++this.Vt}ie(){if(0===--this.Vt){this.re(),this.removeNodes();let t,e=this.$initiator.head;for(;null!==e;)e!==this&&(e.debug&&e.logger.trace("detach()"),e.removeNodes()),e.qt&&(e.vmKind!==Co&&null!=e.Mt.unbinding&&(t=L(...e.Mt.unbinding.map(qo,e))),e.Pt.oe&&(e.debug&&e.logger.trace("unbinding()"),t=L(t,e.viewModel.unbinding(e.$initiator,e.parent)))),u(t)&&(this.Gt(),this.re(),t.then(()=>{this.le()}).catch(t=>{this.Kt(t)})),t=void 0,e=e.next;this.le()}}re(){++this.Ft}le(){if(0===--this.Ft){let t=this.$initiator.head,e=null;for(;null!==t;)t!==this&&(t.qt=!1,t.isBound=!1,t.unbind()),e=t.next,t.next=null,t=e;this.head=this.tail=null,this.qt=!1,this.isBound=!1,this.unbind()}}addBinding(t){null===this.bindings?this.bindings=[t]:this.bindings[this.bindings.length]=t}addChild(t){null===this.children?this.children=[t]:this.children[this.children.length]=t}is(t){switch(this.vmKind){case ko:case wo:return this.definition.name===t;case Co:return this.viewFactory.name===t}}lockScope(t){this.scope=t,this.hasLockedScope=!0}setHost(t){return this.vmKind===wo&&(zo(t,na,this),zo(t,this.definition.key,this)),this.host=t,this.mountTarget=co,this}setShadowRoot(t){return this.vmKind===wo&&(zo(t,na,this),zo(t,this.definition.key,this)),this.shadowRoot=t,this.mountTarget=lo,this}setLocation(t){return this.vmKind===wo&&(zo(t,na,this),zo(t,this.definition.key,this)),this.location=t,this.mountTarget=uo,this}release(){this.state|=Ro}dispose(){(this.state&Oo)!==Oo&&(this.state|=Oo,this.Pt.he&&this.Dt.dispose(),null!==this.children&&(this.children.forEach(Po),this.children=null),this.scope=null,this.nodes=null,this.location=null,this.viewFactory=null,null!==this.Dt&&(oo.delete(this.Dt),this.Dt=null),this.Dt=null,this.host=null,this.shadowRoot=null,this.container.disposeResolvers())}accept(t){if(!0===t(this))return!0;if(this.Pt.ae&&!0===this.Dt.accept(t))return!0;if(null!==this.children){const{children:e}=this;for(let s=0,i=e.length;s<i;++s)if(!0===e[s].accept(t))return!0}}}const oo=new WeakMap,ao=0,co=1,lo=2,uo=3,fo=(ar({none:ao,host:co,shadowRoot:lo,location:uo}),qt(Xs));function po(t,e,s){const i=e.bindables,n=lr(i),r=n.length;if(0===r)return;const h=t.container.get(mn),o="propertiesChanged"in s,a=t.vmKind===Co?void 0:t.container.get(fo),c=o?(()=>{let e={},i=!1,n=0;const r=()=>{i||(i=!0,Ws(()=>{i=!1;const h=e;e={},n=0,t.isBound&&(s.propertiesChanged?.(h),n>0&&r())}))};return(t,s,i)=>{e[t]={newValue:s,oldValue:i},n++,r()}})():Lt;for(let e=0;e<r;++e){const r=n[e],l=i[r],u=l.callback,d=h.getObserver(s,r);if(l.set!==Lt&&!0!==d.useCoercer?.(l.set,a))throw $r(507,r);if(null!=s[u]||null!=s.propertyChanged||o){const e=(e,i)=>{t.isBound&&(s[u]?.(e,i),s.propertyChanged?.(r,e,i),c(r,e,i))};if(!0!==d.useCallback?.(e))throw $r(508,r)}}}const go=new Map,vo=t=>{let e=go.get(t);return null==e&&(e=new ae(t,0),go.set(t,e)),e};function mo(t,e,s,i){const n=e.get(mn),r=e.get(ve),h=s.watches,o=t.vmKind===wo?t.scope:Cs.create(i,null,!0),a=h.length;let c,l,u,d,f=0;for(;a>f;++f){if(({expression:c,callback:l,flush:d}=h[f]),l=m(l)?l:Reflect.get(i,l),!m(l))throw $r(506,l);m(c)?t.addBinding(new no(i,n,c,l,d)):(u=b(c)?r.parse(c,br):vo(c),t.addBinding(new ro(o,e,n,u,l,d)))}}class bo{constructor(t){this.ce="define"in t,this.$t="hydrating"in t,this.Wt="hydrated"in t,this.jt="created"in t,this.Ut="binding"in t,this.Qt="bound"in t,this.Jt="attaching"in t,this.ne="attached"in t,this.ee="detaching"in t,this.oe="unbinding"in t,this.he="dispose"in t,this.ae="accept"in t}}bo.none=new bo({});const yo={mode:"open"},wo="customElement",ko="customAttribute",Co="synthetic",To=0,$o=1,So=2,Ao=4,xo=8,Ro=16,Oo=32,Mo=Mr("IHydrationContext");class Io{constructor(t,e,s){this.instruction=e,this.parent=s,this.controller=t}}function Po(t){t.dispose()}function Eo(t){t.instance.created(this.Dt,this)}function Lo(t){t.instance.hydrating(this.Dt,this)}function jo(t){t.instance.hydrated(this.Dt,this)}function Bo(t){return t.instance.binding(this.Dt,this.$initiator,this.parent)}function Do(t){return t.instance.bound(this.Dt,this.$initiator,this.parent)}function No(t){return t.instance.attaching(this.Dt,this.$initiator,this.parent)}function Fo(t){return t.instance.attached(this.Dt,this.$initiator)}function Vo(t){return t.instance.detaching(this.Dt,this.$initiator,this.parent)}function qo(t){return t.instance.unbinding(this.Dt,this.$initiator,this.parent)}let _o,Uo,Wo;const zo=Yr.set,Ho=Mr("IRenderLocation");new WeakMap;function Ko(t){if(Go(t))return t;const e=t.ownerDocument.createComment("au-end"),s=e.$start=t.ownerDocument.createComment("au-start"),i=t.parentNode;return null!==i&&(i.replaceChild(e,t),i.insertBefore(s,e)),e}function Go(t){return"au-end"===t.textContent}class Xo{get firstChild(){return this.ue}get lastChild(){return this.fe}constructor(t,e){this.platform=t,this.next=void 0,this.de=!1,this.me=!1,this.ref=null;const s=(this.f=e).querySelectorAll("au-m");let i,n,r=0,h=s.length,o=this.t=Array(h);for(;h>r;)n=s[r],i=n.nextSibling,n.remove(),8===i.nodeType&&(n=i,(i=i.nextSibling).$start=n),o[r]=i,++r;const a=e.childNodes,c=this.childNodes=Array(h=a.length);for(r=0;h>r;)c[r]=a[r],++r;this.ue=e.firstChild,this.fe=e.lastChild}findTargets(){return this.t}insertBefore(t){if(this.me&&this.ref)this.addToLinked();else{const e=t.parentNode;if(this.de){let s,i=this.ue;const n=this.fe;for(;null!=i&&(s=i.nextSibling,e.insertBefore(i,t),i!==n);)i=s}else this.de=!0,t.parentNode.insertBefore(this.f,t)}}appendTo(t,e=!1){if(this.de){let e,s=this.ue;const i=this.fe;for(;null!=s&&(e=s.nextSibling,t.appendChild(s),s!==i);)s=e}else this.de=!0,e||t.appendChild(this.f)}remove(){if(this.de){this.de=!1;const t=this.f,e=this.fe;let s,i=this.ue;for(;null!==i&&(s=i.nextSibling,t.appendChild(i),i!==e);)i=s}}addToLinked(){const t=this.ref,e=t.parentNode;if(this.de){let s,i=this.ue;const n=this.fe;for(;null!=i&&(s=i.nextSibling,e.insertBefore(i,t),i!==n);)i=s}else this.de=!0,e.insertBefore(this.f,t)}unlink(){this.me=!1,this.next=void 0,this.ref=void 0}link(t){this.me=!0,Go(t)?this.ref=t:(this.next=t,this.ge())}ge(){void 0!==this.next?this.ref=this.next.firstChild:this.ref=void 0}}const Qo=new WeakMap;class Jo{get type(){return"custom-element"}constructor(t,e,s,i,n,r,h,o,a,c,l,u,d,f,p,g,v,m,b){this.Type=t,this.name=e,this.aliases=s,this.key=i,this.capture=n,this.template=r,this.instructions=h,this.dependencies=o,this.injectable=a,this.needsCompile=c,this.surrogates=l,this.bindables=u,this.containerless=d,this.shadowOptions=f,this.hasSlots=p,this.enhance=g,this.watches=v,this.strict=m,this.processContent=b}static create(t,e=null){if(null===e){const s=t;if(b(s))throw $r(761,t);const i=J("name",s,ha);e=m(s.Type)?s.Type:ca(S(i));for(const t of Object.values(xr.from(s.bindables)))xr.i(t,e);return new Jo(e,i,R(s.aliases),J("key",s,()=>ra(i)),X("capture",s,e,ta),X("template",s,e,Yo),R(s.instructions),R(oa(e,"dependencies"),s.dependencies),J("injectable",s,Yo),J("needsCompile",s,ea),R(s.surrogates),xr.from(oa(e,"bindables"),s.bindables),X("containerless",s,e,ta),J("shadowOptions",s,Yo),J("hasSlots",s,ta),J("enhance",s,ta),J("watches",s,sa),J("strict",s,Zo),Q("processContent",e,Yo))}if(b(t))return new Jo(e,t,R(oa(e,"aliases"),e.aliases),ra(t),Q("capture",e,ta),Q("template",e,Yo),R(oa(e,"instructions"),e.instructions),R(oa(e,"dependencies"),e.dependencies),Q("injectable",e,Yo),Q("needsCompile",e,ea),R(oa(e,"surrogates"),e.surrogates),xr.from(...xr.getAll(e),oa(e,"bindables"),e.bindables),Q("containerless",e,ta),Q("shadowOptions",e,Yo),Q("hasSlots",e,ta),Q("enhance",e,ta),R(th.getDefinitions(e),e.watches),Q("strict",e,Zo),Q("processContent",e,Yo));const s=J("name",t,ha);for(const s of Object.values(xr.from(t.bindables)))xr.i(s,e);return new Jo(e,s,R(oa(e,"aliases"),t.aliases,e.aliases),ra(s),X("capture",t,e,ta),X("template",t,e,Yo),R(oa(e,"instructions"),t.instructions,e.instructions),R(oa(e,"dependencies"),t.dependencies,e.dependencies),X("injectable",t,e,Yo),X("needsCompile",t,e,ea),R(oa(e,"surrogates"),t.surrogates,e.surrogates),xr.from(...xr.getAll(e),oa(e,"bindables"),e.bindables,t.bindables),X("containerless",t,e,ta),X("shadowOptions",t,e,Yo),X("hasSlots",t,e,ta),X("enhance",t,e,ta),R(t.watches,th.getDefinitions(e),e.watches),X("strict",t,e,Zo),X("processContent",t,e,Yo))}static getOrCreate(t){if(t instanceof Jo)return t;if(Qo.has(t))return Qo.get(t);const e=Jo.create(t);return Qo.set(t,e),er(e,e.Type,na),e}register(t,e){const s=this.Type,i="string"==typeof e?ra(e):this.key,n=this.aliases;t.has(i,!1)?console.warn($r(153,this.name)):t.register(t.has(s,!1)?null:Ir(s,s),Pr(s,i),...n.map(t=>Pr(s,ra(t))))}toString(){return`au:ce:${this.name}`}}const Yo=()=>null,Zo=()=>{},ta=()=>!1,ea=()=>!0,sa=()=>Pt,ia="custom-element",na=H(ia),ra=t=>`${na}:${t}`,ha=(t=>()=>"unnamed-"+ ++t)(0),oa=(t,e)=>Zn(ir(e),t),aa=t=>{const e=Zn(na,t)??jr(t,ia,Jo.create);if(null==e)throw $r(760,t);return e},ca=function(){const t={value:"",writable:!1,enumerable:!1,configurable:!0},e={};return function(s,i=e){const n=class{};return t.value=s,pr(n,"name",t),i!==e&&cr(n.prototype,i),n}}(),la=Mr("ISVGAnalyzer",t=>t.singleton(ua));class ua{isStandardSvgAttribute(t,e){return!1}}q(Fe);q(cs);const da=y();class fa{static forNs(t){return da[t]??=new fa(t)}constructor(t){this.ns=t,this.type=Cr|Tr}getValue(t,e){return t.getAttributeNS(this.ns,e)}setValue(t,e,s){null==t?e.removeAttributeNS(this.ns,s):e.setAttributeNS(this.ns,s,t)}}zh(fa);class pa{constructor(){this.type=Cr|Tr}getValue(t,e){return t.getAttribute(e)}setValue(t,e,s){null==t?e.removeAttribute(s):e.setAttribute(s,t)}}zh(pa);const ga=new pa;class va{static _e(t){const e=[];if(0===t.length)return e;const s=t.length;let i,n=0;for(;s>n;)i=t[n],i.selected&&(e[e.length]=or.call(i,"model")?i.model:i.value),++n;return e}static Ve(t,e){return t===e}constructor(t,e,s,i){this.type=Cr|kr|Tr,this.v=void 0,this.ov=void 0,this.Fe=!1,this.He=void 0,this.Oe=void 0,this.iO=!1,this.ht=!1,this.lt=t,this.oL=i,this.cf=s}getValue(){return this.iO?this.v:this.lt.multiple?va._e(this.lt.options):this.lt.value}setValue(t){this.ov=this.v,this.v=t,this.Fe=t!==this.ov,this.$e(t instanceof Array?t:null),this.gt()}gt(){this.Fe&&(this.Fe=!1,this.syncOptions())}handleCollectionChange(){this.syncOptions()}syncOptions(){const t=this.v,e=this.lt,s=d(t),i=e.matcher??va.Ve,n=e.options;let r=n.length;for(;r-- >0;){const e=n[r],h=or.call(e,"model")?e.model:e.value;e.selected=s?-1!==t.findIndex(t=>!!i(h,t)):!!i(h,t)}}syncValue(){const t=this.lt,e=t.options,s=e.length,i=this.v;let n=0;if(t.multiple){if(!(i instanceof Array))return!0;let r;const h=t.matcher||va.Ve,o=[];for(;n<s;)r=e[n],r.selected&&o.push(or.call(r,"model")?r.model:r.value),++n;let a;for(n=0;n<i.length;)a=i[n],-1===o.findIndex(t=>!!h(a,t))?i.splice(n,1):++n;for(n=0;n<o.length;)a=o[n],-1===i.findIndex(t=>!!h(a,t))&&i.push(a),++n;return!1}let r,h=null;for(;n<s;){if(r=e[n],r.selected){h=or.call(r,"model")?r.model:r.value;break}++n}return this.ov=this.v,this.v=h,!0}ct(){(this.Oe=Dh(this.lt,this.Ne.bind(this))).observe(this.lt,{childList:!0,subtree:!0,characterData:!0}),this.$e(this.v instanceof Array?this.v:null),this.iO=!0}ut(){this.Oe.disconnect(),this.He?.unsubscribe(this),this.Oe=this.He=void 0,this.iO=!1}$e(t){if(this.He?.unsubscribe(this),this.He=void 0,null!=t){if(!this.lt.multiple)throw $r(654);(this.He=this.oL.getArrayObserver(t)).subscribe(this)}}handleEvent(){this.syncValue()&&this.Tt()}Ne(t){this.syncOptions(),this.syncValue()&&this.Tt()}Tt(){const t=this.ov;this.ov=this.v,this.subs.notify(this.v,t)}}Wh(va),Ys(va,null);class ma{constructor(t){this.obj=t,this.type=Cr|Tr,this.v="",this.ov="",this.styles={},this.version=0,this.Fe=!1}getValue(){return this.obj.style.cssText}setValue(t){this.v=t,this.Fe=t!==this.ov,this.gt()}We(t){const e=[],s=/url\([^)]+$/;let i,n,r,h,o=0,a="";for(;o<t.length;)i=t.indexOf(";",o),-1===i&&(i=t.length),a+=t.substring(o,i),o=i+1,s.test(a)?a+=";":(n=a.indexOf(":"),r=a.substring(0,n).trim(),h=a.substring(n+1).trim(),e.push([r,h]),a="");return e}je(t){let e,s;const i=[];for(s in t)if(e=t[s],null!=e)if(b(e)){if(s.startsWith("--")){i.push([s,e]);continue}i.push([A(s),e])}else i.push(...this.ze(e));return i}Ue(t){const e=t.length;if(e>0){const s=[];let i=0;for(;e>i;++i)s.push(...this.ze(t[i]));return s}return Pt}ze(t){return b(t)?this.We(t):t instanceof Array?this.Ue(t):t instanceof Object?this.je(t):Pt}gt(){if(this.Fe){this.Fe=!1;const t=this.v,e=this.styles,s=this.ze(t);let i,n,r,h,o=this.version;this.ov=t;let a=0;const c=s.length;for(;a<c;++a)n=s[a],r=n[0],h=n[1],this.setProperty(r,h),e[r]=o;if(this.styles=e,this.version+=1,0===o)return;for(i in o-=1,e)or.call(e,i)&&e[i]===o&&this.obj.style.removeProperty(i)}}setProperty(t,e){let s="";null!=e&&m(e.indexOf)&&e.includes("!important")&&(s="important",e=e.replace("!important","")),this.obj.style.setProperty(t,e,s)}bind(){this.v=this.ov=this.obj.style.cssText}}zh(ma);class ba{constructor(t,e,s){this.type=Cr|kr|Tr,this.v="",this.ov="",this.Fe=!1,this.ht=!1,this.lt=t,this.k=e,this.cf=s}getValue(){return this.v}setValue(t){w(t,this.v)||(this.ov=this.v,this.v=t,this.Fe=!0,this.cf.readonly||this.gt())}gt(){this.Fe&&(this.Fe=!1,this.lt[this.k]=this.v??this.cf.default,this.Tt())}handleEvent(){this.ov=this.v,this.v=this.lt[this.k],this.ov!==this.v&&(this.Fe=!1,this.Tt())}ct(){this.v=this.ov=this.lt[this.k]}Tt(){const t=this.ov;this.ov=this.v,this.subs.notify(this.v,t)}}Wh(ba),Ys(ba,null);const ya=(()=>{const t="http://www.w3.org/1999/xlink",e="http://www.w3.org/XML/1998/namespace",s="http://www.w3.org/2000/xmlns/";return cr(y(),{"xlink:actuate":["actuate",t],"xlink:arcrole":["arcrole",t],"xlink:href":["href",t],"xlink:role":["role",t],"xlink:show":["show",t],"xlink:title":["title",t],"xlink:type":["type",t],"xml:lang":["lang",e],"xml:space":["space",e],xmlns:["xmlns",s],"xmlns:xlink":["xlink",s]})})(),wa=new pn;wa.type=Cr|Tr;class ka{constructor(){this.allowDirtyCheck=!0,this.Ge=y(),this.Xe=y(),this.Ke=y(),this.Qe=y(),this.Ye=lt(xt),this.p=lt(Qr),this.Ze=lt(dn),this.svg=lt(la);const t=["change","input"],e={events:t,default:""};this.useConfig({INPUT:{value:e,valueAsNumber:{events:t,default:0},checked:{type:$a,events:t},files:{events:t,readonly:!0}},SELECT:{value:{type:va,events:["change"],default:""}},TEXTAREA:{value:e}});const s={events:["change","input","blur","keyup","paste"],default:""},i={events:["scroll"],default:0};this.useConfigGlobal({scrollTop:i,scrollLeft:i,textContent:s,innerHTML:s}),this.overrideAccessorGlobal("css","style","class"),this.overrideAccessor({INPUT:["value","checked","model"],SELECT:["value"],TEXTAREA:["value"]})}handles(t,e){return t instanceof this.p.Node}useConfig(t,e,s){const i=this.Ge;let n;if(b(t))n=i[t]??=y(),null==n[e]?n[e]=s:Ca(t,e);else for(const s in t){n=i[s]??=y();const r=t[s];for(e in r)null==n[e]?n[e]=r[e]:Ca(s,e)}}useConfigGlobal(t,e){const s=this.Xe;if("object"==typeof t)for(const e in t)null==s[e]?s[e]=t[e]:Ca("*",e);else null==s[t]?s[t]=e:Ca("*",t)}getAccessor(t,e,s){if(e in this.Qe||e in(this.Ke[t.tagName]??Et))return this.getObserver(t,e,s);switch(e){case"src":case"href":case"role":case"minLength":case"maxLength":case"placeholder":case"size":case"pattern":case"title":case"popovertarget":case"popovertargetaction":return ga;default:{const s=ya[e];return void 0!==s?fa.forNs(s[1]):fr(t,e,this.svg)?ga:wa}}}overrideAccessor(t,e){let s;if(b(t))s=this.Ke[t]??=y(),s[e]=!0;else for(const e in t)for(const i of t[e])s=this.Ke[e]??=y(),s[i]=!0}overrideAccessorGlobal(...t){for(const e of t)this.Qe[e]=!0}getNodeObserverConfig(t,e){return this.Ge[t.tagName]?.[e]??this.Xe[e]}getNodeObserver(t,e,s){const i=this.Ge[t.tagName]?.[e]??this.Xe[e];let n;return null!=i?(n=new(i.type??ba)(t,e,i,s,this.Ye),n.doNotCache||($n(t)[e]=n),n):null}getObserver(t,e,s){switch(e){case"class":return new Hh(t);case"css":case"style":return new ma(t)}const i=this.getNodeObserver(t,e,s);if(null!=i)return i;const n=ya[e];if(void 0!==n)return fa.forNs(n[1]);if(fr(t,e,this.svg))return ga;if(e in t.constructor.prototype){if(this.allowDirtyCheck)return this.Ze.createProperty(t,e);throw $r(652,e)}return new gn(t,e)}}function Ca(t,e){throw $r(653,t,e)}function Ta(t,e){return t===e}ka.register=q(bn);class $a{constructor(t,e,s,i){this.type=Cr|kr|Tr,this.v=void 0,this.ov=void 0,this.Je=void 0,this.ti=void 0,this.ht=!1,this.lt=t,this.oL=i,this.cf=s}getValue(){return this.v}setValue(t){const e=this.v;t!==e&&(this.v=t,this.ov=e,this.ei(),this.ii(),this.Tt())}handleCollectionChange(){this.ii()}handleChange(t,e){this.ii()}ii(){const t=this.v,e=this.lt,s=or.call(e,"model")?e.model:e.value,i="radio"===e.type,n=void 0!==e.matcher?e.matcher:Ta;if(i)e.checked=!!n(t,s);else if(!0===t)e.checked=!0;else{let i=!1;if(d(t))i=-1!==t.findIndex(t=>!!n(t,s));else if(t instanceof Set){for(const e of t)if(n(e,s)){i=!0;break}}else if(t instanceof Map)for(const e of t){const t=e[0],r=e[1];if(n(t,s)&&!0===r){i=!0;break}}e.checked=i}}handleEvent(){let t=this.ov=this.v;const e=this.lt,s=or.call(e,"model")?e.model:e.value,i=e.checked,n=void 0!==e.matcher?e.matcher:Ta;if("checkbox"===e.type){if(d(t)){const e=t.findIndex(t=>!!n(t,s));return void(i&&-1===e?t.push(s):i||-1===e||t.splice(e,1))}if(t instanceof Set){const e={};let r=e;for(const e of t)if(!0===n(e,s)){r=e;break}return void(i&&r===e?t.add(s):i||r===e||t.delete(r))}if(t instanceof Map){let e;for(const i of t){const t=i[0];if(!0===n(t,s)){e=t;break}}return void t.set(e,i)}t=i}else{if(!i)return;t=s}this.v=t,this.Tt()}ct(){this.ei()}ut(){this.v=this.ov=void 0,this.Je?.unsubscribe(this),this.ti?.unsubscribe(this),this.Je=this.ti=void 0}Tt(){Sa=this.ov,this.ov=this.v,this.subs.notify(this.v,Sa),Sa=void 0}ei(){const t=this.lt;(this.ti??=t.$observers?.model??t.$observers?.value)?.subscribe(this),this.Je?.unsubscribe(this),this.Je=void 0,"checkbox"===t.type&&(this.Je=function(t,e){return t instanceof Array?e.getArrayObserver(t):t instanceof Map?e.getMapObserver(t):t instanceof Set?e.getSetObserver(t):void 0}(this.v,this.oL))?.subscribe(this)}}let Sa;Wh($a),Ys($a,null);class Aa{constructor(){this.elseFactory=void 0,this.elseView=void 0,this.ifView=void 0,this.view=void 0,this.value=!1,this.cache=!0,this.pending=void 0,this.ni=!1,this.ri=0,this.oi=lt(jh),this.l=lt(Ho)}attaching(t,e){return this.li(this.value)}detaching(t,e){return this.ni=!0,E(this.pending,()=>{this.ni=!1,this.pending=void 0,this.view?.deactivate(t,this.$controller)})}valueChanged(t,e){if(this.$controller.isActive)return(t=!!t)!=(e=!!e)?this.li(t):void 0}li(t){const e=this.view,s=this.$controller,i=this.ri++,n=()=>!this.ni&&this.ri===i+1;let r;return E(this.pending,()=>this.pending=E(e?.deactivate(e,s),()=>{if(n()&&(r=this.view=t?this.ifView=this.cache&&null!=this.ifView?this.ifView:this.oi.create():this.elseView=this.cache&&null!=this.elseView?this.elseView:this.elseFactory?.create(),null!=r))return r.setLocation(this.l),E(r.activate(r,s,s.scope),()=>{n()&&(this.pending=void 0)})}))}dispose(){this.ifView?.dispose(),this.elseView?.dispose(),this.ifView=this.elseView=this.view=void 0}accept(t){if(!0===this.view?.accept(t))return!0}}Aa.$au={type:ih,name:"if",isTemplateController:!0,bindables:{value:!0,cache:{set:t=>""===t||!!t&&"false"!==t}}};let xa=16;new Int32Array(xa),new Int32Array(xa);class Ra{constructor(){this.cases=[],this.activeCases=[],this.promise=void 0,this.f=lt(jh),this.l=lt(Ho)}link(t,e,s,i){this.view=this.f.create(this.$controller).setLocation(this.l)}attaching(t,e){const s=this.view,i=this.$controller;return this.queue(()=>s.activate(t,i,i.scope)),this.queue(()=>this.swap(t,this.value)),this.promise}detaching(t,e){return this.queue(()=>this.view.deactivate(t,this.$controller)),this.promise}dispose(){this.view?.dispose(),this.view=void 0}valueChanged(t,e){this.$controller.isActive&&this.queue(()=>this.swap(null,this.value))}caseChanged(t){this.queue(()=>this.Di(t))}Di(t){const e=t.isMatch(this.value),s=this.activeCases,i=s.length;if(!e)return i>0&&s[0].id===t.id?this.Pi(null):void 0;if(i>0&&s[0].id<t.id)return;const n=[];let r=t.fallThrough;if(r){const e=this.cases,s=e.indexOf(t);for(let t=s,i=e.length;t<i&&r;t++){const s=e[t];n.push(s),r=s.fallThrough}}else n.push(t);return E(this.Pi(null,n),()=>(this.activeCases=n,this.qi(null)))}swap(t,e){const s=[];let i=!1;for(const t of this.cases)if((i||t.isMatch(e))&&(s.push(t),i=t.fallThrough),s.length>0&&!i)break;const n=this.defaultCase;return 0===s.length&&void 0!==n&&s.push(n),E(this.activeCases.length>0?this.Pi(t,s):void 0,()=>{if(this.activeCases=s,0!==s.length)return this.qi(t)})}qi(t){const e=this.$controller;if(!e.isActive)return;const s=this.activeCases,i=s.length;if(0===i)return;const n=e.scope;return 1===i?s[0].activate(t,n):L(...s.map(e=>e.activate(t,n)))}Pi(t,e=[]){const s=this.activeCases,i=s.length;if(0!==i){if(1===i){const i=s[0];return e.includes(i)?void 0:(s.length=0,i.deactivate(t))}return E(L(...s.reduce((s,i)=>(e.includes(i)||s.push(i.deactivate(t)),s),[])),()=>{s.length=0})}}queue(t){const e=this.promise;let s;s=this.promise=E(E(e,t),()=>{this.promise===s&&(this.promise=void 0)})}accept(t){return!0===this.$controller.accept(t)||!!this.activeCases.some(e=>e.accept(t))||void 0}}Ra.$au={type:ih,name:"switch",isTemplateController:!0,bindables:["value"]};let Oa=0;const Ma=["value",{name:"fallThrough",mode:Xn,set(t){switch(t){case"true":return!0;case"false":return!1;default:return!!t}}}];class Ia{constructor(){this.id=++Oa,this.fallThrough=!1,this.view=void 0,this.f=lt(jh),this.Ye=lt(mn),this.l=lt(Ho),this.Ii=lt(Kt).scopeTo(`Case-#${this.id}`)}link(t,e,s,i){const n=t.parent,r=n?.viewModel;if(!(r instanceof Ra))throw $r(815);this.$switch=r,this.linkToSwitch(r)}detaching(t,e){return this.deactivate(t)}isMatch(t){this.Ii.debug("isMatch()");const e=this.value;return d(e)?(void 0===this.fi&&(this.fi=this._i(e)),e.includes(t)):e===t}valueChanged(t,e){d(t)?(this.fi?.unsubscribe(this),this.fi=this._i(t)):void 0!==this.fi&&this.fi.unsubscribe(this),this.$switch.caseChanged(this)}handleCollectionChange(){this.$switch.caseChanged(this)}activate(t,e){let s=this.view;if(void 0===s&&(s=this.view=this.f.create().setLocation(this.l)),!s.isActive)return s.activate(t??s,this.$controller,e)}deactivate(t){const e=this.view;if(void 0!==e&&e.isActive)return e.deactivate(t??e,this.$controller)}dispose(){this.fi?.unsubscribe(this),this.view?.dispose(),this.view=void 0}linkToSwitch(t){t.cases.push(this)}_i(t){const e=this.Ye.getArrayObserver(t);return e.subscribe(this),e}accept(t){return!0===this.$controller.accept(t)||this.view?.accept(t)}}oh({name:"case",bindables:Ma,isTemplateController:!0},Ia);oh({name:"default-case",bindables:Ma,isTemplateController:!0},class extends Ia{linkToSwitch(t){if(void 0!==t.defaultCase)throw $r(816);t.defaultCase=this}});class Pa{constructor(){this.preSettledTask=null,this.postSettledTask=null,this.f=lt(jh),this.l=lt(Ho),this.p=lt(Qr),this.logger=lt(Kt).scopeTo("promise.resolve")}link(t,e,s,i){this.view=this.f.create(this.$controller).setLocation(this.l)}attaching(t,e){const s=this.view,i=this.$controller;return E(s.activate(t,i,this.viewScope=Cs.fromParent(i.scope,{})),()=>this.swap(t))}valueChanged(t,e){this.$controller.isActive&&this.swap(null)}swap(t){const e=this.value;if(!u(e))return;const s=this.fulfilled,i=this.rejected,n=this.pending,r=this.viewScope;let h;const o=()=>{L(h=(this.preSettledTask=zs(()=>L(s?.deactivate(t),i?.deactivate(t),n?.activate(t,r)))).result.catch(t=>{throw t}),e.then(o=>{if(this.value!==e)return;const a=()=>{this.postSettlePromise=(this.postSettledTask=zs(()=>L(n?.deactivate(t),i?.deactivate(t),s?.activate(t,r,o)))).result};this.preSettledTask.status===wr?h.then(a):(this.preSettledTask.cancel(),a())},o=>{if(this.value!==e)return;const a=()=>{this.postSettlePromise=(this.postSettledTask=zs(()=>L(n?.deactivate(t),s?.deactivate(t),i?.activate(t,r,o)))).result};this.preSettledTask.status===wr?h.then(a):(this.preSettledTask.cancel(),a())}))};this.postSettledTask?.status===wr?this.postSettlePromise.then(o):(this.postSettledTask?.cancel(),o())}detaching(t,e){return this.preSettledTask?.cancel(),this.postSettledTask?.cancel(),this.preSettledTask=this.postSettledTask=null,this.view.deactivate(t,this.$controller)}dispose(){this.view?.dispose(),this.view=void 0}}Pa.$au={type:ih,name:"promise",isTemplateController:!0,bindables:["value"]};class Ea{"promise.resolve"(t,e){return new Ye(t,e,"promise","bind")}}Ea[Symbol.metadata]={[Y]:ss.create([{pattern:"promise.resolve",symbols:""}],Ea)};class La{then(t,e){return new Ye(t,e,"then","from-view")}}La[Symbol.metadata]={[Y]:ss.create([{pattern:"then",symbols:""}],La)};class ja{catch(t,e){return new Ye(t,e,"catch","from-view")}}ja[Symbol.metadata]={[Y]:ss.create([{pattern:"catch",symbols:""}],ja)};let Ba;class Da{constructor(){this.Yi=null,this.Zi=null,this.ne=!1,this.expose=null,this.slotchange=null,this.Ji=new Set,this.fi=null;const t=lt(Mo),e=lt(Ho),s=lt(as),i=lt(Qh),n=this.name=s.data.name,r=s.projections?.[Fh],h=t.instruction?.projections?.[n],o=t.controller.container;let a,c;null==h?(c=o.createChild({inheritParentResources:!0}),a=i.getViewFactory(r??(Ba??=Jo.create({name:"au-slot-empty-template",template:"",needsCompile:!1})),c),this.ts=!1):(c=o.createChild(),c.useResources(t.parent.controller.container),Lr(c,Mo,new Mt(void 0,t.parent)),a=i.getViewFactory(h,c),this.ts=!0,this.es=o.getAll(Vh,!1)?.filter(t=>"*"===t.slotName||t.slotName===n)??Pt),this.ss=(this.es??=Pt).length>0,this.rs=t,this.view=a.create().setLocation(this.l=e)}get nodes(){const t=[],e=this.l;let s=e.$start.nextSibling;for(;null!=s&&s!==e;)8!==s.nodeType&&t.push(s),s=s.nextSibling;return t}subscribe(t){this.Ji.add(t)}unsubscribe(t){this.Ji.delete(t)}binding(t,e){for(this.Yi=e.scope;"synthetic"===e.vmKind&&e.parent?.viewModel instanceof Da;)e=e.parent.parent;const s=e.scope.bindingContext;let i;this.ts&&(i=this.rs.controller.scope.parent,(this.Zi=Cs.fromParent(i,i.bindingContext)).overrideContext.$host=this.expose??s)}attaching(t,e){return E(this.view.activate(t,this.$controller,this.ts?this.Zi:this.Yi),()=>{(this.ss||m(this.slotchange))&&(this.es.forEach(t=>t.watch(this)),this.ei(),this.ls(),this.ne=!0)})}detaching(t,e){return this.ne=!1,this.cs(),this.es.forEach(t=>t.unwatch(this)),this.view.deactivate(t,this.$controller)}exposeChanged(t){this.ts&&null!=this.Zi&&(this.Zi.overrideContext.$host=t)}dispose(){this.view.dispose(),this.view=void 0}accept(t){if(!0===this.view?.accept(t))return!0}ei(){if(null!=this.fi)return;const t=this.l,e=t.parentElement;null!=e&&(this.fi=Dh(e,e=>{Fa(t,e)&&this.ls()})).observe(e,{childList:!0})}cs(){this.fi?.disconnect(),this.fi=null}ls(){const t=this.nodes,e=new Set(this.Ji);let s;for(s of(this.ne&&this.slotchange?.call(void 0,this.name,t),e))s.handleSlotChange(this,t)}}Da.$au={type:ia,name:"au-slot",template:null,containerless:!0,processContent(t,e,s){s.name=t.getAttribute("name")??Fh;let i=t.firstChild,n=null;for(;null!==i;)n=i.nextSibling,Nh(i)&&i.hasAttribute("au-slot")&&t.removeChild(i),i=n},bindables:["expose","slotchange"]};const Na=(t,e)=>t.compareDocumentPosition(e),Fa=(t,e)=>{for(const{addedNodes:s,removedNodes:i,nextSibling:n}of e){let e,r=0,h=s.length;for(;r<h;++r)if(e=s[r],4===Na(t.$start,e)&&2===Na(t,e))return!0;if(i.length>0&&null!=n&&4===Na(t.$start,n)&&2===Na(t,n))return!0}};class Va{constructor(){this.cache=new Map,this.delete=t=>this.cache.delete(t),this.has=t=>this.cache.has(t),this.set=(t,e)=>this.cache.set(t,e),this.get=t=>this.cache.get(t),this.clear=()=>this.cache.clear()}}const qa=St.createInterface(t=>t.singleton(Va));class _a{constructor(){this.baseUrl="",this.defaults={},this.interceptors=[],this.dispatcher=null,this.c=lt(At)}withBaseUrl(t){return this.baseUrl=t,this}withDefaults(t){return this.defaults=t,this}withInterceptor(t){return this.interceptors.push(t),this}useStandardConfiguration(){return Object.assign(this.defaults,{credentials:"same-origin"},this.defaults),this.rejectErrorResponses()}rejectErrorResponses(){return this.withInterceptor({response:Ua})}withRetry(t){const e=this.c.invoke(oc,[t]);return this.withInterceptor(e)}withDispatcher(t){return this.dispatcher=t,this}}function Ua(t){if(!t.ok)throw t;return t}const Wa=(t,...e)=>new Error(`AUR${String(t).padStart(4,"0")}:${e.map(String)}`),za=/^([a-z][a-z0-9+\-.]*:)?\/\//i,Ha=St.createInterface("fetch",t=>{if("function"!=typeof fetch)throw Wa(5e3);return t.instance(fetch)}),Ka=St.createInterface("IHttpClient",t=>t.aliasTo(Ga));class Ga{constructor(){this.activeRequestCount=0,this.isRequesting=!1,this.isConfigured=!1,this.baseUrl="",this.defaults=null,this.t=[],this.i=null,this.h=lt(Ft(_a)),this.u=lt(Ha)}get interceptors(){return this.t.slice(0)}configure(t){let e;if("object"==typeof t)e={defaults:t};else{if("function"!=typeof t)throw Wa(5002,typeof t);{e=this.h(),e.baseUrl=this.baseUrl,e.defaults={...this.defaults},e.interceptors=this.t,e.dispatcher=this.i;const s=t(e);if(null!=s){if("object"!=typeof s)throw Wa(5001,typeof s);e=s}}}const s=e.defaults;if(s?.headers instanceof Headers)throw Wa(5003);const i=e.interceptors;if(i?.length>0){if(i.filter(t=>t instanceof oc).length>1)throw Wa(5004);const t=i.findIndex(t=>t instanceof oc);if(t>=0&&t!==i.length-1)throw Wa(5005)}return this.baseUrl=e.baseUrl,this.defaults=s,this.t=e.interceptors??[],this.i=e.dispatcher,this.isConfigured=!0,this}fetch(t,e){this.C();let s=this.buildRequest(t,e);return this.processRequest(s,this.t).then(t=>{let e;if(t instanceof Response)e=Promise.resolve(t);else{if(!(t instanceof Request))throw Wa(5006,t);s=t,e=this.u.call(void 0,s)}return this.processResponse(e,this.t,s)}).then(t=>t instanceof Request?this.fetch(t):t).then(t=>(this.R(),t),t=>{throw this.R(),t})}buildRequest(t,e){const s=this.defaults??{};let i,n,r;const h=function(t){const e={},s=t??{};for(const t of Object.keys(s))e[t]="function"==typeof s[t]?s[t]():s[t];return e}(s.headers);if(t instanceof Request)i=t,r=new Headers(i.headers).get("Content-Type");else{e||(e={}),n=e.body;const h=void 0!==n?{body:n}:null,o={...s,headers:{},...e,...h};r=new Headers(o.headers).get("Content-Type"),i=new Request(function(t,e){return za.test(e)?e:(t??"")+e}(this.baseUrl,t),o)}return r||(new Headers(h).has("content-type")?i.headers.set("Content-Type",new Headers(h).get("content-type")):void 0!==n&&function(t){try{JSON.parse(t)}catch(t){return!1}return!0}(n)&&i.headers.set("Content-Type","application/json")),function(t,e){const s=e??{};for(const e of Object.keys(s))t.has(e)||t.set(e,s[e])}(i.headers,h),n instanceof Blob&&n.type&&i.headers.set("Content-Type",n.type),i}get(t,e){return this.fetch(t,e)}post(t,e,s){return this.I(t,e,s,"POST")}put(t,e,s){return this.I(t,e,s,"PUT")}patch(t,e,s){return this.I(t,e,s,"PATCH")}delete(t,e,s){return this.I(t,e,s,"DELETE")}dispose(){this.t.forEach(t=>t.dispose?.()),this.t.length=0,this.i=null}C(){this.isRequesting=!!++this.activeRequestCount,this.isRequesting&&null!=this.i&&Ja(this.i,Ya.started)}R(){this.isRequesting=!! --this.activeRequestCount,this.isRequesting||null==this.i||Ja(this.i,Ya.drained)}processRequest(t,e){return this.B(t,e,"request","requestError",Request,this)}processResponse(t,e,s){return this.B(t,e,"response","responseError",Response,s,this)}B(t,e,s,i,n,...r){return(e??[]).reduce((t,e)=>{const h=e[s],o=e[i];return t.then(h?t=>t instanceof n?h.call(e,t,...r):t:Xa,o?t=>o.call(e,t,...r):Qa)},Promise.resolve(t))}I(t,e,s,i){return s||(s={}),s.method=i,null!=e&&(s.body=e),this.fetch(t,s)}}function Xa(t){return t}function Qa(t){throw t}function Ja(t,e){const s=new t.ownerDocument.defaultView.CustomEvent(e,{bubbles:!0,cancelable:!0});setTimeout(()=>{t.dispatchEvent(s)},1)}const Ya=Object.freeze({started:"aurelia-fetch-client-request-started",drained:"aurelia-fetch-client-requests-drained"}),Za=St.createInterface(t=>t.singleton(ec)),tc=Object.freeze({Set:"au:fetch:cache:set",Get:"au:fetch:cache:get",Clear:"au:fetch:cache:clear",Reset:"au:fetch:cache:reset",Dispose:"au:fetch:cache:dispose",CacheHit:"au:fetch:cache:hit",CacheMiss:"au:fetch:cache:miss",CacheStale:"au:fetch:cache:stale",CacheStaleRefreshed:"au:fetch:cache:stale:refreshed",CacheExpired:"au:fetch:cache:expired",CacheBackgroundRefreshed:"au:fetch:cache:background:refreshed",CacheBackgroundRefreshing:"au:fetch:cache:background:refreshing",CacheBackgroundStopped:"au:fetch:cache:background:stopped"});class ec{constructor(){this.storage=lt(qa),this.p=lt(jt),this.ea=lt(re),this.q=lt(Ka),this.H=[],this.O=-1,this.j=[],this.T=new Map}subscribe(t,e){const s=this.ea.subscribe(t,e);return this.H.push(s),s}subscribeOnce(t,e){const s=this.ea.subscribeOnce(t,e);return this.H.push(s),s}setStaleTimer(t,e,s){const i=this.p.setTimeout(async()=>{this.delete(t),await this.q.get(s);const e=this.getItem(t);this.ea.publish(tc.CacheStaleRefreshed,{key:t,value:e}),this.N(i)},e);this.j.push(i)}startBackgroundRefresh(t){!t||this.O>-1||(this.O=this.p.setInterval(()=>{this.ea.publish(tc.CacheBackgroundRefreshing),this.T.forEach((t,e)=>{this.delete(e),this.q.get(t).then(()=>{const t=this.getItem(e);this.ea.publish(tc.CacheBackgroundRefreshed,{key:e,value:t})})})},t))}stopBackgroundRefresh(){this.p.clearInterval(this.O),this.O=-1,this.ea.publish(tc.CacheBackgroundStopped)}set(t,e,s,i){const n={data:e,...s};this.setItem(t,n,i)}get(t){return this.getItem(t)?.data}setItem(t,e,s){e.lastCached=Date.now(),this.storage.set(t,e),this.T.set(t,s),this.ea.publish(tc.Set,{key:t,value:e})}getItem(t){if(!this.storage.has(t))return void this.ea.publish(tc.CacheMiss,{key:t});const e=this.storage.get(t);if(!e?.staleTime||!e?.lastCached)return this.ea.publish(tc.CacheHit,{key:t,value:e}),e;const s=Date.now();if(s>e.lastCached+(e.staleTime??0))this.ea.publish(tc.CacheStale,{key:t,value:e});else{if(!(s>e.lastCached+(e.cacheTime??0)))return this.ea.publish(tc.CacheHit,{key:t,value:e}),e;this.ea.publish(tc.CacheExpired,{key:t,value:e})}}delete(t){this.storage.delete(t),this.ea.publish(tc.Clear,{key:t})}clear(){this.storage.clear(),this.T.clear(),this.ea.publish(tc.Reset),this.stopBackgroundRefresh(),this.j.forEach(t=>{this.p.clearTimeout(t)}),this.j.length=0}dispose(){this.clear(),this.H.forEach(t=>t.dispose()),this.ea.publish(tc.Dispose)}N(t){this.p.clearTimeout(t);const e=this.j.indexOf(t);e>-1&&this.j.splice(e,1)}}const sc={cacheTime:3e5,staleTime:0,refreshStaleImmediate:!1,refreshInterval:0};class ic{constructor(t){this.P=lt(Za),this.cf={...sc,...t??{}}}request(t){if(this.P.startBackgroundRefresh(this.cf.refreshInterval),"GET"!==t.method)return t;const e=this.P.get(this.key(t));return this.mark(e)??t}response(t,e){if(!e)return t;if(t.headers.has(ic.cacheHeader))return t;const s=this.key(e);return this.P.setItem(s,{data:t,...this.cf},e),this.cf?.refreshStaleImmediate&&this.cf.staleTime>0&&this.P.setStaleTimer(s,this.cf.staleTime,e),t}dispose(){this.P.stopBackgroundRefresh()}key(t){return`${ic.prefix}${t.url}`}mark(t){return t?.headers.set(ic.cacheHeader,"hit"),t}}ic.prefix="au:interceptor:",ic.cacheHeader="x-au-fetch-cache";class nc{constructor(){this.cache=lt(jt).globalThis.indexedDB,this.getStore=()=>this.database.transaction(nc.cacheName,"readwrite").objectStore(nc.cacheName),this.delete=t=>{this.getStore().delete(t)},this.has=t=>this.getStore().count(t).result>0,this.set=(t,e)=>this.getStore().put(e,t),this.get=t=>this.getStore().get(t).result,this.clear=()=>{const t=this.getStore();t.getAllKeys().result.forEach(e=>{t.delete(e)})},this.database=this.cache.open(nc.cacheName).result}}nc.cacheName="au-cache";const rc=Object.freeze({fixed:0,incremental:1,exponential:2,random:3}),hc={maxRetries:3,interval:1e3,strategy:rc.fixed};class oc{constructor(t){if(this.p=lt(jt),this.retryConfig={...hc,...t??{}},this.retryConfig.strategy===rc.exponential&&this.retryConfig.interval<=1e3)throw Wa(5007,this.retryConfig.interval)}request(t){return t.retryConfig||(t.retryConfig={...this.retryConfig},t.retryConfig.counter=0),t.retryConfig.requestClone=t.clone(),t}response(t,e){return delete e.retryConfig,t}responseError(t,e,s){const{retryConfig:i}=e,{requestClone:n}=i;return Promise.resolve().then(()=>{if(i.counter<i.maxRetries){const r=null==i.doRetry||i.doRetry(t,e);return Promise.resolve(r).then(r=>{if(r){i.counter++;const t=function(t){const{interval:e,strategy:s,minRandomInterval:i,maxRandomInterval:n,counter:r}=t;if("function"==typeof s)return t.strategy(r);switch(s){case rc.fixed:return ac[rc.fixed](e);case rc.incremental:return ac[rc.incremental](r,e);case rc.exponential:return ac[rc.exponential](r,e);case rc.random:return ac[rc.random](r,e,i,n);default:throw Wa(5008,s)}}(i);return new Promise(e=>this.p.setTimeout(e,isNaN(t)?0:t)).then(()=>{const t=n.clone();return"function"==typeof i.beforeRetry?i.beforeRetry(t,s):t}).then(t=>{const e={...t,retryConfig:i};return s.fetch(e)})}throw delete e.retryConfig,t})}throw delete e.retryConfig,t})}}const ac=[t=>t,(t,e)=>e*t,(t,e)=>1===t?e:e**t/1e3,(t,e,s=0,i=6e4)=>Math.random()*(i-s)+s];class cc{constructor(){}getApiBaseUrl(){return this.apiBaseUrl||(this.apiBaseUrl=window.apiBaseUrl?window.apiBaseUrl:"/fractal-cms"),this.apiBaseUrl}}class lc{constructor(t=lt(Ka),e=lt(cc),s=lt(Kt).scopeTo("ApiServices")){this.httpClient=t,this.configService=e,this.logger=s,this.logger.trace("constructor"),this.httpClient.configure(t=>(t.withDefaults({headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"include"}).withInterceptor({request:t=>(console.log(`Requesting ${t.method} ${t.url}`),t),response:t=>(console.log(`Received ${t.status} ${t.url}`),t)}).rejectErrorResponses(),t))}delete(t){return this.httpClient.fetch(t,{method:"DELETE"}).then(t=>t.text())}}let uc=(()=>{let t,e,r,h=[eh("fractal-cms-core-list-line")],o=[],a=[],c=[];return e=class{constructor(t=lt(Kt).scopeTo("ListLine"),e=lt(re),s=lt(Zr),n=lt(lc),r=lt(Qr)){this.logger=t,this.ea=e,this.element=s,this.apiService=n,this.platform=r,this.id=i(this,a,void 0),this.buttonDelete=i(this,c),this.onDelete=t=>{if(this.logger.trace("onDelete"),t.preventDefault(),this.buttonDelete&&!0===confirm("Attention !! vous allez supprimer définitivement cet élément ?")){const t=this.buttonDelete.href;this.apiService.delete(t).then(t=>{this.platform.taskQueue.queueTask(()=>{this.platform.window.location.reload()})}).catch(t=>{this.logger.trace("Delete  ERROR",t)})}},this.logger.trace("constructor")}attached(){this.logger.trace("attached")}detached(){this.logger.trace("detached")}bound(){this.logger.trace("bound"),this.addEvent()}unbinding(){this.logger.trace("unbinding"),this.removeEvent()}addEvent(){this.logger.trace("addEvent"),this.buttonDelete=this.element.querySelector(".user-button-delete"),this.buttonDelete&&this.buttonDelete.addEventListener("click",this.onDelete)}removeEvent(){this.logger.trace("removeEvent"),this.buttonDelete&&this.buttonDelete.removeEventListener("click",this.onDelete)}onValidate(t){return this.logger.trace("onValidate"),!0}},n(e,"ListLine"),(()=>{const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;r=[Sr()],s(null,null,r,{kind:"field",name:"id",static:!1,private:!1,access:{has:t=>"id"in t,get:t=>t.id,set:(t,e)=>{t.id=e}},metadata:n},a,c),s(null,t={value:e},h,{kind:"class",name:e.name,metadata:n},null,o),e=t.value,n&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),i(e,o)})(),e})(),dc=(()=>{let t,e,r,h=[eh("fractal-cms-core-check-rules")],o=[],a=[],c=[];return e=class{constructor(t=lt(Kt).scopeTo("CheckRules"),e=lt(Zr)){this.logger=t,this.element=e,this.id=i(this,a,void 0),this.mainCheck=i(this,c),this.onCheckMain=t=>{if(this.logger.trace("onCheckMain"),this.mainCheck)return this.childCheck&&this.childCheck.forEach((t,e)=>{t.checked=this.mainCheck.checked}),!0},this.onCheckChild=t=>{this.logger.trace("onCheckMain");const e=t.currentTarget;if(e)return e.checked||this.mainCheck&&(this.mainCheck.checked=!1),!0},this.logger.trace("constructor")}attached(){this.logger.trace("attached"),this.mainCheck=this.element.querySelector("input.main-check"),this.childCheck=this.element.querySelectorAll("input.sub-check"),this.mainCheck&&this.mainCheck.addEventListener("click",this.onCheckMain),this.childCheck&&this.childCheck.forEach((t,e)=>{t.addEventListener("click",this.onCheckChild)})}detached(){this.logger.trace("detached"),this.mainCheck&&this.mainCheck.removeEventListener("click",this.onCheckMain),this.childCheck&&this.childCheck.forEach((t,e)=>{t.removeEventListener("click",this.onCheckChild)})}},n(e,"CheckRules"),(()=>{const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;r=[Sr()],s(null,null,r,{kind:"field",name:"id",static:!1,private:!1,access:{has:t=>"id"in t,get:t=>t.id,set:(t,e)=>{t.id=e}},metadata:n},a,c),s(null,t={value:e},h,{kind:"class",name:e.name,metadata:n},null,o),e=t.value,n&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),i(e,o)})(),e})(),fc=(()=>{let t,e,r=[eh("fractal-cms-core-menu")],h=[];return e=class{constructor(t=lt(Kt).scopeTo("Menu"),e=lt(Zr),s=lt(re),i=lt(lc),n=lt(Qr)){this.logger=t,this.element=e,this.ea=s,this.apiService=i,this.platform=n,this.onAction=t=>{this.logger.trace("onAction");let e=t.target;if(e){"button"!==e.nodeName&&(e=e.closest("button"));const t=e.getAttribute("aria-controls");if(t){this.closeOthers(t);const s=this.element.querySelector("#"+t);s&&(s.classList.contains("is-open")?(s.classList.remove("is-open"),s.setAttribute("aria-expanded","false"),e.setAttribute("aria-expanded","false")):(s.classList.add("is-open"),s.setAttribute("aria-expanded","true"),e.setAttribute("aria-expanded","true")))}}},this.logger.trace("constructor")}attached(){this.logger.trace("attached"),this.addEvent()}detached(){this.logger.trace("attached"),this.removeEvent()}addEvent(){this.logger.trace("addEvent"),this.actionButtons=this.element.querySelectorAll("[aria-controls]"),this.actionButtons.forEach((t,e)=>{t.addEventListener("click",this.onAction)})}removeEvent(){this.logger.trace("removeEvent"),this.actionButtons.forEach((t,e)=>{t.removeEventListener("click",this.onAction)})}closeOthers(t){this.logger.trace("closeOthers"),this.element.querySelectorAll(".fractal-submenu").forEach((e,s)=>{e.id!=t&&e.classList.remove("is-open")})}},n(e,"Menu"),(()=>{const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;s(null,t={value:e},r,{kind:"class",name:e.name,metadata:n},null,h),e=t.value,n&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),i(e,h)})(),e})()})();